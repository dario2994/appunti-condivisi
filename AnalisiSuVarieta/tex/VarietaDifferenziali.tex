\chapter{Varietà differenziabili}

\section{Definizioni ed esempi di varietà differenziabili}
 
 Le varietà sono spazi localmente simili agli spazi euclidei, ma globalmente diversi.
 
 Per motivi sia teorici che applicativi è utile sviluppare strumenti su \emph{oggetti curvi}.
 Ad esempio si possono studiare i sistemi dinamici sulle varietà, oppure ricavare
 informazioni topologiche a partire da concetti analitici.
 
 Il modello di riferimento sono le varietà immerse in $\R^m$, ma si può dare
 una nozione intrinseca di varietà.
 
 \begin{definition} \index{spazio!localmente euclideo}
 Una spazio topologico $M$ è detto \emph{localmente euclideo} di dimensione $n\in\N$ se è di Hausdorff ed è localmente omeomorfo ad un aperto di $\R^n$.
 \end{definition}
 
 \begin{definition} \index{carta} \index{funzioni coordinate} \index{atlante}
 Se $U$ è un aperto di $M$ e $\varphi:U\to \varphi(U)\subseteq \R^n$
 è un omeomorfismo, la coppia $(U, \varphi)$ è detta \emph{carta}, o sistema di coordinate.
 Le componenti di $\varphi$ si dicono \emph{funzioni coordinate}. Una famiglia di carte
 che ricopre $M$ è detta \emph{atlante}.
 \end{definition}
 
 \index{cambio di carta}
 Se $(U_1, \varphi_1)$ e $(U_2, \varphi_2)$ sono carte, $\varphi_2\circ\varphi_1^{-1}:\varphi_1(U_1\cap U_2)\to\varphi_2(U_1\cap U_2)$
 è un omeomorfismo tra aperti di $\R^n$, detto \emph{cambio di carta} o \emph{transizione}.
 Per poter fare uso degli strumenti del calcolo differenziale, si considera un insieme
 di carte tale che i cambi di carta siano differenziabili.
 
 \begin{definition} \index{struttura differenziabile}
 Una \emph{struttura differenziabile} di classe $C^k$ su uno
 spazio localmente euclideo è un atlante $\mathcal F$ massimale rispetto all'inclusione e tale che tutti i cambi di carta siano
 di classe $C^k$.
 \end{definition}
 
 \begin{remark}
  Se $\mathcal F$ non è massimale esso è contenuto in un'unica struttura differenziabile $C^k$,
  formata da tutte le carte con transizioni di classe $C^k$ rispetto ad $\mathcal F$.
 \end{remark}
 
 \begin{definition} \index{varietà!differenziabile}
  Una \emph{varietà differenziabile} $n$-dimensionale di classe $C^k$ è una coppia $(M, \mathcal F)$ tale che $M$ sia uno spazio topologico localmente euclideo a base numerabile ed $\mathcal F$ sia una struttura differenziabile su $M$.
 \end{definition}
 
\begin{example}
	Di seguito alcuni esempi di varietà differenziabili: 
	\begin{enumerate}
	\item $\R^n$ con l'atlante formato da una sola carta (l'identità), o più in generale tutti gli aperti di $\R^n$.
	\item $S^n$ con un atlante formato da due carte: le proiezioni stereografiche da polo nord $N=(0,\ldots,0,1)$ e sud $S=(0,\ldots,0,-1)$, cioè \index{proiezioni stereografiche}
	\begin{align*}
		\pi_N(x_1,\ldots,x_{n+1}) = \left( \frac{x_1}{1-x_{n+1}},\ldots,\frac{x_n}{1-x_{n+1}} \right) &\quad \text{su $U_1=S^n\setminus \{N\}$} \virgola\\
		\pi_S(x_1,\ldots,x_{n+1}) = \left( \frac{x_1}{1+x_{n+1}},\ldots,\frac{x_n}{1+x_{n+1}} \right) &\quad \text{su $U_2=S^n\setminus \{S\}$} \punto
	\end{align*}
	In particolare $\pi_S\circ \pi_N^{-1}:\R^n\setminus\{0\} \to \R^n$ è la mappa $z\mapsto \frac z{\abs{z}^2}$, chiamata \emph{inversione di Kelvin}.

   \item Lo spazio proiettivo $\R\mathbb P^n$ con l'atlante $(U_i,\varphi_i)_{i=0,\dots,n}$ tale che $U_i=\{ [x_0,\dots,x_n]\ :\ x_i\neq 0\}$ e $\varphi_i([x_0,\dots,x_n])=\frac 1{x_i}(x_0,\dots,\hat x_i,\dots,x_n)$.
  \end{enumerate}
 \end{example}
 
\begin{example} \index{grassmanniana}
	Dati $k \geq n$ interi sia $G_n(\R^k)$ la famiglia dei sottospazi $n$-dimensionali di $\R^k$, che si può dotare di una struttura differenziabile naturale con la quale viene detta \emph{varietà grassmanniana}. 
 
 Dato $F \in \R^k$ sottospazio $n$-dimensionale, sia $G$ uno dei complementari lineari, cioè $\R^k=F \oplus G$.
 Sia ora $U_G=\{H\in \R^k \text{ sottospazio $n$-dimensionale tali che }\R^k=H \oplus G\}$ e sia
 $\varphi_{F,G}:U_G \to \Lin(F,G)$ tale che $\varphi_{F,G}(H)=\pi_F(H,G) \circ \pi_G(H,F)^{-1}$; dove
 $\pi_F(G):\R^k \to G$ e $\pi_G(F):\R^k \to F$ sono le proiezioni sui due sottospazi e $\pi_F(H,G)$ è la restrizione di $\pi_F(G)$ ad $H$
 e simmetricamente per l'altra. 
 
 Per prima cosa dimostreremo che $\pi_G(H,F)$ è invertibile e quindi che ha senso la scrittura sopra.
 Sia infatti $H \in U_G$ allora $\R^k=F \oplus G=H \oplus G$, quindi $\pi_G(H,F)$ e $\pi_G(F,H)$ sono una l'inversa dell'altra. Infatti, data $h\in H$, scrivendo
 $h=f+g$ con $f \in F$ e $g \in G$ si ha $f=h-g$; quindi
 \begin{equation*}
 \pi_G(F,H) \circ \pi_G(H,F)(h)=h \quad \text{e} \quad \pi_G(H,F) \circ \pi_G(F,H)(f))=f \punto
 \end{equation*}
 
 Inoltre vale anche il viceversa, ovvero che se $\pi_G(H,F)$ è un isomorfismo, allora $\R^k=H \oplus G$. Infatti
 è chiaro che $H \cap G=\{0\}$ e, se $c \in \R^k$, allora
 \begin{equation*}
 c=(\pi_G(H,F)^{-1} \circ \pi_G(F)(c))+(c-\pi_G(H,F)^{-1} \circ \pi_G(F)(c))
 \end{equation*}
 e la prima parentesi
 è un elemento di $H$ mentre la seconda un elemento di $G$.
 
 Usando questi fatti si può dimostrare che $\varphi_{F,G}$ è biettiva e quindi che $\{(U-G,\varphi_{F,G}) \suchthat \R^k=F \oplus G \}$ è 
 un atlante sui sottospazi $n$-dimensionali.
 
 \end{example}

 
 \begin{remark} \index{sfere esotiche}
  Esistono varietà omeomorfe ma non diffeomorfe. Ad esempio, come scoperse Milnor, ci sono ventotto varietà
  omeomorfe a $S^7$ tra di loro non diffeomorfe, dette \emph{sfere esotiche}. Su $S^1$, $S^2$, $S^3$, $S^5$
  ed $S^6$ questo non accade, mentre per $S^4$ il problema è tuttora aperto.
 \end{remark}
 
 \begin{remark}
  La richiesta che le varietà siano a base numerabile ha alcune importanti conseguenze:
  \begin{enumerate}
   \item le varietà sono metrizzabili;
   \item le varietà sono spazi topologici normali;
   \item le varietà sono paracompatte, dunque in particolare esistono partizioni dell'unità;
   \item le varietà sono $\sigma$-compatte, ossia sono un'unione numerabile di compatti.
  \end{enumerate}
 \end{remark}

\begin{exercise}
	Se $g:\R^n\to\R$ è di classe $C^k$, $M=g^{-1}(\{0\})$ e $\grad g\ne 0$ su $M$, allora $M$ è una varietà $C^k$ di dimensione $n-1$.
\end{exercise}
\begin{exercise}
	Lo spazio $\mathrm{SL}_n(\R)$ delle matrici $n\times n$ a determinante 1 è una varietà di dimensione $n^2-1$.
\end{exercise}
\begin{exercise}
	La funzione $t\mapsto t^3$ induce su $\R$ una struttura differenziabile diversa da quella ordinaria, ma le varietà ottenute sono diffeomorfe.
\end{exercise}
 
 \section{Prodotti e mappe di varietà}
 
\begin{definition} \index{varietà!prodotto}
	Date $(M_1,\mathcal F_1)$ e $(M_2,\mathcal F_2)$ varietà $C^k$, si può definire la \emph{varietà prodotto} $(M_1\times M_2,\mathcal F_1\times\mathcal F_2)$, che è lo spazio topologico prodotto con la struttura differenziale generata dall'atlante $\{(U_1\times U_2,\varphi_1\times\varphi_2)\ :\ \text{$(U_i,\varphi_i)$ sono carte di $\mathcal F_i$}\}$.
\end{definition}

\begin{remark}
	Ovviamente si ha che $\dim(M_1\times M_2)=\dim(M_1)+\dim(M_2)$.
\end{remark}

In modo analogo si può definire il prodotto di più fattori.
 
 \begin{definition} \index{mappa!$C^r$}
  Se $M$ ed $N$ sono varietà $C^k$ e $r\le k$, una funzione $f:M\to N$ si dice
  di classe $C^r$ se per ogni $x\in M$ ci sono una carta $(U,\varphi)$ di $M$ con
  $x\in U$ ed una carta $(V,\psi)$ di $N$ con $f(U)\subseteq V$ tali che $\psi\circ f\circ\varphi^{-1}$
  sia di classe $C^r$.
 \end{definition}
 
 L'ipotesi che $r\le k$ serve affiché la definizione non dipenda dalle carte scelte, come
 mostra la seguente proposizione.
 
 \begin{proposition}
  Una funzione continua $f:M\to N$ è di classe $C^r$ se e solo se tutti i suoi rappresentanti locali sono di classe $C^r$.
 \end{proposition}
 
 \begin{proposition}
   La composizione di due funzioni $C^r$ è $C^r$.
 \end{proposition}
 
 \begin{definition} \index{diffeomorfismo $C^r$}
  Un \emph{diffeomorfismo $C^r$} è una funzione $C^r$ invertibile e con inversa $C^r$.
 \end{definition}
 
 \section{Spazio tangente}
 
 Data una varietà $n$-dimensionale immersa in $\R^m$, per ogni suo punto esiste
 un sottospazio affine di dimensione $n$ detto \emph{spazio tangente}. Vogliamo
 mostrare come estendere questa costruzione alle varietà astratte. Vi sono diversi
 approcci per fare ciò; noi vedremo lo spazio tangente ad un punto come ``insieme delle
 velocità delle curve passanti per quel punto''.
 
\begin{definition}
	Siano $M$ una varietà, $x\in M$, $c,\tilde{c}:(-1,1)\to M$ curve di classe $C^1$ tali che $c(0)=\tilde{c}(0)=x$ e $(U,\varphi)$ una carta con $x\in U$. Allora diciamo che $c$ e $\tilde{c}$ sono 	tangenti in $x$ rispetto a $\varphi$ se $(\varphi\circ c)'(0)=(\varphi\circ\tilde{c})'(0)$.
\end{definition}

\begin{proposition}
	La definizione precedente non dipende dalla carta.
\end{proposition}

Si può dunque dare la seguente definizione.
 
\begin{definition} \index{curve tangenti}
	Due curve $c,\tilde{c}:(-1,1)\to M$ di classe $C^1$ tali che $c(0)=\tilde{c}(0)=x$ si dicono \emph{tangenti} se le loro espressioni locali in carta sono tangenti.
\end{definition}

Tutto ciò ci permette di definire lo spazio tangente.
 
\begin{definition} \index{spazio!tangente} \index{fibrato!tangente}
	Lo spazio tangente ad un punto $x\in M$, indicato con $T_xM$, è l'insieme delle classi di equivalenza delle curve $c:(-1,1)\to M$ di classe $C^1$ con $c(0)=x$ con la relazione ``essere tangenti in $x$''. L'unione degli spazi tangenti ad $M$ è detta \emph{spazio tangente}, o \emph{fibrato tangente}, ed è indicata con $TM$.
\end{definition}
 
 \begin{remark}
  Su $T_xM$ c'è un'evidente struttura lineare che lo rende uno spazio vettoriale con la
  stessa dimensione di $M$.
 \end{remark}

Ora vediamo due definizioni alternative.
 
\subsection*{Controvarianza}
Per definire il tangente si possono usare le proprietà di trasformazione dei vettori.

Infatti, se $(U,\varphi)$ e $(\tilde{U},\tilde{\varphi})$ sono due carte e chiamiamo $(y^1,\dots,y^n)=(\varphi\circ c)(t)$ e $(\tilde{y}^1,\dots,\tilde{y}^n)=(\tilde{\varphi}\circ c)(t)$, allora il vettore tangente associato a $c'(0)$ si scrive nei due sistemi di coordinate come $(V^1,\dots,V^n)=(\frac{\de y^1}{\de t}(0),\dots,\frac{\de y^n}{\de t}(0))$ e $(\tilde{V}^1,\dots,\tilde{V}^n)=(\frac{\de\tilde{y}^1}{\de t}(0),\dots,\frac{\de\tilde{y}^n}{\de t}(0))$.
Usando il cambio di carta si trova che la funzione $y\mapsto\tilde{y}$ è un diffeomorfismo locale e la relazione tra le due coordinate è 
\begin{equation*}
	\tilde{V}^i=\frac{\de\tilde{y}^i}{\de t}(0)=\sum_{j=1}^n\frac{\partial\tilde{y}^i}{\partial y^j}(\varphi(x)) \frac{\de y^j}{\de t}(0)=\sum_{j=1}^n\frac{\partial\tilde{y}^i}{\partial y^j}(\varphi(x))V^j\punto
\end{equation*}
Questo tipo di trasformazione è detto \emph{controvarianza} e può essere usato per definire lo spazio tangente. \index{controvarianza}

Con questa notazione, dato un sistema di coordinate $(U,\varphi)$, un vettore $v\in T_x M$ (con $x\in U$) si scrive così:
\begin{equation*}
	v=\sum_{i=1}^nv^i\frac{\partial}{\partial y^i}(\varphi(x))\virgola
\end{equation*}
dove $\frac{\partial}{\partial y^i}(\varphi(x))=[\varphi(x)+te_i]_{\varphi(x)}$, essendo $e_i$ l'$i$-esimo vettore della base canonica.

\subsection*{Derivazioni} \index{derivazione}
Data $f:\R^n\to\R$ e $v\in\R^n$ sia $\Diff_vf$ la derivata direzionale lungo $v$ di $f$. Allora $\Diff_v$ è lineare in $f$ ed vale la regola di Leibniz $\Diff_v(fg)=f\Diff_vg+g\Diff_vf$. Si definiscono \emph{derivazioni} gli operatori lineari $A:C^r(U)\to\R$ che godono della regola di Leibniz. Si può dimostrare che in questo modo si ottiene una definizione equivalente di spazio tangente.
 
\section{Mappe tangenti}
Una funzione regolare agisce sui vettori tangenti alla varietà, permettendo di estendere il concetto di differenziale alle varietà.
 
\begin{lemma}
	Se $c$ e $\tilde{c}$ sono curve tangenti in $x\in M$ e $f:M\to N$ è di classe $C^1$ allora $f\circ c$ e $f\circ\tilde{c}$ sono curve tangenti in $f(x)$.
\end{lemma}

 \begin{proof}
  Basta passare in carta.
 \end{proof}

\begin{definition} \index{mappa!tangente} \index{differenziale}
	Data $f:M\to N$ di classe $C^1$ si definisce \emph{mappa tangente} (o \emph{differenziale}) di $f$ la mappa $Tf:TM\to TN$ (indicata anche con $\de f$) tale che $Tf([c]_x)=[f\circ c]_{f(x)}$ (la definizione è ben posta per il lemma precedente).
	La restrizione di $Tf$ allo spazio tangente ad un punto $x$ è indicata con $T_xf$.
\end{definition}

\begin{remark}
	Dato $v\in T_xM$, chiamiamo $Tf(v)$ il \emph{push-forward} di $v$ tramite $f$, che si indica anche come $f_*v$. \index{push-forward}
\end{remark}


\begin{remark}
	L'applicazione $T_xf:T_xM\to T_xN$ è lineare.
\end{remark}
 
\begin{theorem}[Mappe composte] \label{thm:MappeComposte} \index{teorema!mappe composte}
	Valgono le seguenti proprietà:
	\begin{enumerate}
	\item se $f:M\to N$ e $g:N\to P$ sono $C^r$, allora $g\circ f$ è $C^r$ e $T(g\circ f)=Tg\circ Tf$; \label{mp:composizione}
	\item $T(\id_M)=\id_{TM}$; \label{mp:identita}
	\item se $f:M\to N$ è un diffeomorfismo allora $Tf$ è invertibile e $(Tf)^{-1}=T(f^{-1})$. \label{mp:inverso}
	\end{enumerate}
\end{theorem}

\begin{proof}
	Il punto \ref{mp:composizione} si dimostra passando in carta, il \ref{mp:identita} è banale, il \ref{mp:inverso} è conseguenza immediata dei due precedenti.
\end{proof}

\section{Struttura differenziabile sul tangente}
Ora vogliamo dotare il fibrato tangente di una struttura differenziabile.
 
Data una carta $(U,\varphi)$ abbiamo le carte $T\varphi:TU\to T(\varphi(U))$ tale che $T\varphi([c]_x)=[\varphi\circ c]_{\varphi(x)}$. Si verifica facilmente che $T\varphi$ è biunivoca.
 
\begin{proposition} \index{atlante!naturale}
	Se $k\ge 1$ e $(M,\mathcal F)$ è una varietà $C^{k+1}$ allora $T\mathcal F=\{(Tu,T\varphi)\ :\ (U,\varphi)\in\mathcal F\}$ è un atlante $C^k$ su $TM$, detto \emph{atlante naturale}.
\end{proposition}

\begin{proof}
	Dato che $\mathcal F$ ricopre $M$, $T\mathcal F$ ricopre $TM$. Inoltre per il \cref{thm:MappeComposte} abbiamo che  $T\varphi_i\circ(T\varphi_j)^{-1}=T(\varphi_i\circ\varphi_j)$, che è un diffeomorfismo $C^k$.
	Inoltre $TM$ è di Hausdorff e a base numerabile con la topologia indotta da $T\mathcal F$.
\end{proof}

Similmente si dimostra il seguente risultato.

\begin{proposition}
	Se $f:M\to N$ è un diffeomorfismo $C^{r+1}$, $Tf:TM\to TN$ è un diffeomorfismo $C^r$.
\end{proposition}

\section{Funzioni tra varietà}
Ora definiamo alcuni tipi particolari di funzioni tra varietà.
 
\begin{definition}
	Sia $f:M\to N$ di classe $C^1$.
	\begin{enumerate}
	\item Se il diffenziale di $f$ è iniettivo in ogni punto, $f$ è detta \emph{immersione}. \index{immersione}
	\item Se $f$ è un'immersione iniettiva, $(M,f)$ è detta \emph{sottovarietà}. \index{sottovarietà}
	\item Se $f$ è un'immersione ed un omeomorfismo con l'immagine, $f$ è detta \emph{embedding}. \index{embedding}
	\end{enumerate}
\end{definition}

\begin{proposition}
	Se $f:M\to N$ è di classe $C^1$ e $T_xf$ è invertibile allora $f$ è un diffeomorfismo in $x$.
\end{proposition}

 \begin{proof}
  Basta passare in carta ed applicare il teorema della funzione implicita.
 \end{proof}

\begin{proposition}
	Se $f:M\to N$ è di classe $C^1$ e $T_xf$ è iniettivo allora $f$ è localmente iniettiva.
\end{proposition}

\begin{proof}
	Passando in carta si può supporre $M=\R^m$, $N=\R^n$ e $x=0$. Allora, dato che $Tf=\Diff f$, si ha che
	\begin{equation*}
	f(p)-f(q)=\int_0^1\Diff f(q+s(p-q))[p-q]\de s=(\Diff f(0)+\smallO(1))[p-q]\virgola
	\end{equation*}
	per $p,q\to 0$. Quindi $f(p)\ne f(q)$ per $p,q$ piccoli.
\end{proof}

\begin{exercise}
	Si dimostri che $U(n)$ (il gruppo delle trasformazioni unitarie di $\C^n$) è una sottovarietà non compatta di $\mathscr L(\C^n,\C^n)$.
\end{exercise}
\begin{exercise}
	Si dimostri che $\R \mathbb P^1$ è una sottovarietà di $\R \mathbb P^2$.
\end{exercise}
\begin{exercise}
	Si dimostri che $P=\{ Q\in \mathrm O(3)\ :\ \det Q=1,\; Q=Q^T\}\setminus\{\id\}$ è una sottovarietà compatta di $\mathrm O(3)$. Si descrivano inoltre gli elementi di $P$ in termini geometrici.
\end{exercise}