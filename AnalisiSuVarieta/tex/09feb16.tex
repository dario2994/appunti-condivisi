\chapter{Fibrati e campi tensoriali}

\section{Definizioni e risultati locali}

Lo scopo è estendere l'algebra tensoriale a fibrati vettoriali (locali e poi globali).

Sia $M$ una varietà, $U\subseteq M$ un aperto e $V$ uno spazio vettoriale. Allora $U\times V$ e $U\times T_s^r(V)$ sono fibrati vettoriali locali.

Se $\varphi:U\times V \to U'\times V'$ è una mappa locale di fibrato e se $\varphi$ ristretta alle fibre è un isomorfismo, allora $\varphi$ induce una mappa di fibrato locale sui fibrati tensoriali corrispondenti.

\begin{definition} \index{mappe locali!fibrati!tensoriali}
	Sia $\varphi:U\times V \to U'\times V'$ una mappa locale di fibrato, come sopra. Definiamo $\varphi_*: U \times T_s^r(V) \to U'\times T_s^r(V')$ come $\varphi_*(u,t) = (\varphi_0(u), \varphi_*(t))$, dove $\varphi_0$ è la mappa definita sulla sezione nulla.
\end{definition}

\begin{lemma} \label{lem:DualeEInversaRegolari}
	Sia $\mathrm {GL} (V,W)$ l'insieme degli isomorfismi fra $V$ e $W$, che è un aperto in $\Lin(V,W)$. Sia $\mathcal A:\Lin(V,W)\to \Lin(W^*,V^*)$ tale che $\varphi\mapsto \varphi^*$ e $\mathcal B: \mathrm {GL} (V,W) \to \mathrm {GL} (W,V)$ tale che $\varphi \mapsto \varphi^{-1}$. %TODO: controllare che mathcal A e B non siano già usati per altro
	Allora $\mathcal A$ e $\mathcal B$ sono di classe $C^\infty$ e $\Diff \mathcal B(\varphi)[\psi] = -\varphi^{-1}\ \circ\ \psi\ \circ\ \varphi^{-1}$.
\end{lemma}

\begin{proposition} \label{prop:DaIsomorfismoLocaleFibratiVettAIsomorfismoLocaleFibratiTens}
	Se $\varphi:U\times V\to U'\times V'$ è una mappa locale di fibrato tale che $\varphi_u$ (restrizione alla fibra su $u$) è un isomorfismo per ogni $u\in U$, allora $\varphi_*: U\times T_s^r(V)\to U'\times T_s^r(V')$ è una mappa locale di fibrati e $(\varphi_u)_* = (\varphi_*)_u$ è un isomorfismo per ogni $u\in U$.
	
	Inoltre se $\varphi$ è un isomorfismo locale di fibrati, lo è anche $\varphi_*$.
\end{proposition}

\begin{proof}
	Il fatto che $\varphi_*$ sia un isomorfismo sulle fibre segue dalla \cref{prop:ProprietaPushForwardIsomorfismi}, perciò bisogna solo verificare che $(\varphi_u)_*=(\varphi_*)_u$ è regolare. Però, $\varphi_u$ è regolare in $u$ per definizione e, per il \cref{lem:DualeEInversaRegolari}, $\varphi_u^*$ e $(\varphi_u)^{-1}$ sono regolari.
	Ricordiamo che $\varphi_*t(\beta^1,\ldots,\beta^r,f_1,\ldots,f_s) = t(\varphi^*(\beta^1),\ldots,\varphi^*(\beta^s),\varphi^{-1}(f_1),\ldots,\varphi^{-1}(f_s))$; allora
	segue immediatamente la regolarità di $(\varphi_u)_*$ valutando l'equazione precedente sulla fibra ed avendo a destra una funzione regolare.
\end{proof}


%%%%%

% \begin{remark} %TODO: così com'è questa nota  c'è già, ma magari si può fare un cenno all'estensione a fibrati
% Se $t\in T_0^r(V)$ non serve avere $\varphi$ isomorfismo.
% Se $t\in T_s^0(W)$ è sempre possibile fare il pull-back.
% \end{remark}

\section{Fibrati tensoriali}

\begin{definition} \index{fibrato!tensoriale}
	Sia $\pi:E\to B$ un fibrato vettoriale con fibra $E_b \coloneqq \pi^{-1}(b)$ per ogni $b\in B$. Definiamo il \emph{fibrato tensoriale} relativo come
	\begin{equation*}
		T_s^r(E) = \bigcup_{b\in B} T_s^r(E_b)
	\end{equation*}
	e sia $\pi_s^r:T_s^r(E)\to B$ definito da $\pi_s^r(e) = b$ per ogni $e\in T_s^r(E_b)$.
	Inoltre, dato $A\subseteq B$, sia $T_s^r(E)\restrict A = \bigcup_{b\in A} T_s^r(E_b)$.
\end{definition}

\begin{definition} \index{fibrato!tensoriale!push-forward}
	Se $\pi':E'\to B'$ è un altro fibrato vettoriale e se $(\varphi,\varphi_0):E\to E'$ è una mappa fra fibrati vettoriali tale che $\varphi_b \coloneqq \varphi\restrict{E_b}$ è un isomorfismo per ogni $b\in B$, sia $\varphi_*:T_s^r(E)\to T_s^r(E')$ il \emph{push-forward} di $\varphi$ definito da $\varphi_*\restrict{T_s^r(E_b)} = (\varphi_b)_*$.
\end{definition}

Sia $(E\restrict U,\varphi)$ una carta locale di $\pi$, con $U\subseteq B$ aperto. Allora $\varphi_* \restrict{T_s^r(E)\restrict U}$ è una biezione su un fibrato locale e quindi è una carta locale.
Inoltre $(\varphi_*)_b = (\varphi_b)_*$ è un isomorfismo lineare e quindi la carta preserva la struttura lineare di ogni fibra. Queste carte sono dette \emph{carte naturali} di $T_s^r(E)$.

\index{fibrato!tensoriale!atlante}

\begin{theorem} \label{thm:AtlanteFibratoTensoriale}
	Se $\pi: E \to B$ è un fibrato vettoriale, l'insieme delle carte naturali di $\pi_s^r(E):T_s^r(E) \to B$ è un atlante sul fibrato tensoriale.
\end{theorem}
\begin{proof}
	Perché il teorema sia vero deve valere che:
	\begin{enumerate}
		\item l'atlante ricopre il fibrato; \label{aft:Ricopre}
		\item date carte di fibrato $(U_i,\tilde\varphi_i)$, $(U_j,\tilde\varphi_j)$ con $U_i\cap U_j\not=\emptyset$, allora $\tilde\varphi_i( (U_i\times V) \cap (U_j\times V) )$ è un fibrato locale (dove $V\cong E_b$) e $\tilde\varphi_j\circ \tilde\varphi_i^{-1}$ è un isomorfismo locale di fibrati vettoriali. \label{aft:CambiCarta}
	\end{enumerate}
	La \ref{aft:Ricopre} segue dal fatto che partiamo da un atlante per $E$.
	Per la \ref{aft:CambiCarta}, abbiamo che $\alpha \coloneqq \tilde\varphi_j\circ \tilde\varphi_i^{-1}$ è un isomorfismo locale di fibrati; perciò, per la \cref{prop:DaIsomorfismoLocaleFibratiVettAIsomorfismoLocaleFibratiTens}, anche $\alpha_* = (\tilde\varphi_j)_*\circ (\tilde\varphi_i)_*^{-1}$ è un isomorfismo locale di fibrati.
\end{proof}

\begin{remark}
	Si vede che se $E$ ha una base numerabile, allora anche $T_s^r(E)$ ha una base numerabile. 
\end{remark}

\begin{proposition}
	Sia $f:E\to E'$ una mappa tra fibrati che sia un isomorfismo su ogni fibra. Allora anche $f_*:T_s^r(E) \to T_s^r(E')$ è una mappa fra fibrati che è un isomorfismo su ogni fibra.
\end{proposition}
\begin{proof}
	Siano $(U,\tilde\varphi)$ e $(V,\tilde\psi)$ carte di fibrato su $E$ ed $E'$ tali che $f(U) \subseteq V$ e sia $f_{\tilde\varphi\tilde\psi} \coloneqq \tilde\psi \circ f \circ \tilde\varphi^{-1}$ la mappa locale di fibrato corrispondente. Allora, usando l'atlante naturale, $(f_*)_{\tilde\varphi_*\tilde\psi_*} = (f_{\tilde\varphi\tilde\psi})_*$.
\end{proof}

Rivediamo ora le proprietà push-forward, già affrontate nella \cref{prop:ProprietaPushForwardIsomorfismi}, in questo nuovo contesto.

\begin{proposition} \label{prop:ProprietaPushForwardIsomorfismiFraFibrati}
	Siano $f:E\to E'$ e $g:E' \to E''$ mappe tra fibrati che sono isomorfismi su ogni fibra. Allora
	\begin{enumerate}
		\item $g\circ f$ è ancora un isomorfismo su ogni fibra e $(g\circ f)_* = g_* \circ f_*$; \label{ppfiff:Distributiva}
		\item se $i:E \to E$ è l'identità, allora $i_* : T_s^r(E) \to T_s^r(E)$ è l'identità; \label{ppfiff:Identita}
		\item se $f:E \to E'$ è un isomorfismo tra fibrati, lo è anche $f^{-1}$ e $(f_*)^{-1} = (f^{-1})_*$. \label{ppfiff:Isomorfismo}
	\end{enumerate}
\end{proposition}
\begin{proof}
	Per la \ref{ppfiff:Distributiva} basta verificare la proprietà sui rappresentanti locali. La \ref{ppfiff:Identita} è ovvia e insieme alla \ref{ppfiff:Distributiva} implica la \ref{ppfiff:Isomorfismo}.
\end{proof}

Vogliamo ora studiare un caso particolarmente interessante, cioè quello in cui $E = TM$ con $M$ varietà differenziabile.

\begin{definition} \index{fibrato!dei tensori}
	Sia $M$ una varietà e sia $\tau_M : TM \to M$ il fibrato tangente. Allora $T_s^r(M) \coloneqq T_s^r(TM)$ è detto \emph{fibrato dei tensori} su $M$ controvarianti di ordine $r$ e covarianti di ordine $s$ (o di tipo $(r,s)$).
\end{definition}

Quindi in particolare $T_0^1(M)$ si identifica con lo stesso $TM$ e $T_1^0(M)$ con il fibrato cotangente, cioè le mappe lineari su vettori di $TM$.
In particolare il fibrato cotangente si denota con $\tau_M^* : T^*M \to M$. \index{fibrato!cotangente}

\section{Campi tensoriali}

Ricordiamo che una sezione $\gamma$ di un fibrato $\pi : E \to B$ associa ad ogni $b \in B$ un elemento $\gamma(b) \in E$ tale che $\pi(\gamma(b)) = b$.
Indichiamo con $\Gamma^\infty(E)$ (o $\Gamma^\infty(\pi)$) le sezioni di classe $C^\infty$.
Quando $E = T_s^r(M)$ parleremo di campi tensoriali.

\begin{definition} \index{campo!tensoriale}
	Un \emph{campo tensoriale} di tipo $(r,s)$ su una varietà $M$ è una sezione di $T_s^r(M)$. Indicheremo $\Gamma^\infty(T_s^r(M))$ con $\Tau_s^r(M)$. %TODO: la tau dovrebbe essere grande, ho definito Tau (da sostituire)
	
	Elementi di $\Tau_0^1(M)$ sono campi vettoriali (cioè $\chi(M)$), mentre elmenti di $\Tau_1^0(M)$ sono detti \emph{1-forme differenziali} (denotate $\chi^*(M)$). \index{forma!differenziale}
\end{definition}

Vediamo ora alcune operazioni sui campi tensoriali, riportando in questo contesto le operazioni che abbiamo già visto sui tensori. \index{campo!tensoriale!operazioni}

Se $f\in C^\infty(M)$, $X_i \in \chi(M)$, $\alpha^i \in \chi^*(M)$, $t \in \Tau_s^r(M)$ e $t' \in \Tau_{s'}^{r'}(M)$, possiamo definire
\begin{itemize}
	\item $ft \in \Tau_s^r(M)$ come $(ft)(p) \coloneqq f(p) t(p)$;
% \end{itemize}
% \begin{itemize}
	\item $t(\alpha^1,\ldots,\alpha^r,X_1,\ldots, X_s)\in C^\infty(M)$ tale che
	\begin{equation*}
		p \mapsto t(p)(\alpha^1(p),\ldots,\alpha^r(p),X_1(p),\ldots, X_s(p)) \puntovirgola
	\end{equation*}
	
	\item $t\otimes t' \in \Tau_{s+s'}^{r+r'}(M)$ tale che $p \mapsto t(p)\otimes t'(p)$.
\end{itemize}
Analogamente possiamo ridefinire contrazioni e prodotti interni.

Vediamo ora in coordinate. Data $(U,\varphi)$ carta di $M$, sappiamo che $\DerParz{}{x^i} = (T\varphi)^{-1}(e_i)$ dove $e_1,\ldots, e_n$ è la base canonica di $\R^n$
\footnote{Il campo vettoriale $\DerParz{}{x^i}$ corrisponde alla derivazione $f \mapsto \DerParz{f}{x^i}$. Abbiamo che $v = v^i\DerParz{}{x^i}$ e $\alpha = \alpha_j \de x^j$.}.
%TODO: vedere se si parla prima di \DerParz{}{x^i} ed eventualmente parlarne prima

Quindi $\de x^i = \varphi^*(e^i)$ dove $e^i$ è la base duale di $(e_j)_i$. %TODO: capire sta cosa e sistemare in generale quel che segue

Dato $t\in \Tau_s^r(M)$, poniamo $t_{j_1\ldots j_s}^{i_1 \ldots i_r} = t(\de x^{i_1}, \ldots, \de x^{i_r}, \DerParz{}{x^{j_1}}, \ldots, \DerParz{}{x^{j_s}})$.
Per linearià $t = t_{j_1\ldots j_s}^{i_1 \ldots i_r} \DerParz{}{x^{i_1}} \otimes \ldots \otimes \DerParz{}{x^{i_r}} \otimes \de x^{j_1}\otimes \ldots \otimes \de x^{j_s}$.

Vediamo quindi i cambi di coordinate.
Sia quindi $(y^1,\ldots, y^n): U \to \R^n$ un altro sistema di coordinate. Allora $\DerParz{}{x^i} = a_i^j \DerParz{}{y^j}$. Applichiamo il campo vettoriale alla funzione coordinata $y^k$, per ottenere $\DerParz{y^k}{x^i} = a_i^j \DerParz{y^k}{y^j} = a_i^j \delta_j^k = a_i^k$ e quindi $\DerParz{}{x^i} = \DerParz{y^j}{x^i} \DerParz{}{y^j}$.
Allo stesso modo $\de x^i = \DerParz{x^i}{y^j} \de y^j$.

Per le componenti di un tensore $t_{l_1\ldots l_s}^{k_1\ldots k_r} (\text{in } y) = \DerParz{y^{k_1}}{x^{i_1}} \ldots \DerParz{y^{k_r}}{x^{i_r}} \DerParz{x^{j_1}}{y^{l_1}}\ldots \DerParz{x^{j_s}}{y^{l_s}} t_{j_1\ldots j_s}^{i_1\ldots i_r}$ (criterio di tensorialità).

Notiamo che contrazioni e prodotti interni si possono sempre fare, ma per alzare e abbassare gli indici serviva un prodotto scalare.

\begin{definition} \index{metrica} \index{tensore!metrico}
	Una \emph{metrica} (o \emph{tensore metrico}) su una varietà $M$ è un campo tensoriale $g \in \Tau_2^0(M)$ che sia simmetrico e definito positivo, cioè $g(p)(v,v)>0$ per ogni $v\in T_pM$ diverso da 0.
\end{definition}

Un tensore metrico permette di abbassare e alzare gli indici di un campo tensoriale, tramite per esempio $t^{ik} \mapsto t^{ij}g_{jk}$, che è una mappa $\Tau_0^2(M) \to \Tau_1^1(M)$.

Data $f\in C^\infty(M)$, con $f \mapsto \de f \in \chi^*(M)$, abbiamo che $\de f(v) = v(f)$ con $v \in T_pM$. Quindi tale funzione $f$ ci dà in modo naturale una 1-forma.
Per avere un gradiente ci serve una metrica che faccia cambiare il tipo di un tensore e nel particolar caso della 1-forma.

\begin{definition}
	Sia $M$ una varietà con metrica $g$ e sia $f \in C^\infty(M)$. Il campo vettoriale $(\de f)^\sharp$ è detto il \emph{gradiente} di $f$, che denoteremo $\grad f$. %diesis \sharp e \flat
\end{definition}

In coordinate $g_{ij} = g(\DerParz{}{x^i}, \DerParz{}{x^j})$. Siano $X = X^i\DerParz{}{x^i}$ e $Y = Y^j\DerParz{}{x^j}$ elementi di $\chi(M)$, allora
\begin{equation*}
	<X^\flat, Y> \coloneqq g(X,Y) = X^iY^j g(\DerParz{}{x^i}, \DerParz{}{x^j}) = X^iY^j g_{ij} \virgola
\end{equation*}
perciò $X^\flat = X^i g_{ij} \de x^j$.

Viceversa, data $\alpha \in \Tau_1^0(M)$ con $\alpha = \alpha_i\de x^i$, allora
\begin{equation*}
	(\alpha^\sharp)^i = g^{ij} \alpha_j \implies \alpha^\sharp = g^{ij} \alpha_j\DerParz{}{x^i} \punto
\end{equation*}
Perciò, se $\alpha = \de f = \DerParz{f}{x^i}\de x^i$, abbiamo che
\begin{equation*}
	\grad f = g^{ij} \DerParz{f}{x^j} \DerParz{}{x^i} \punto
\end{equation*}


\section{Pull-back e push-forward di campi tensoriali}

\begin{definition}
	Sia $\varphi : M \to N$ diffeomorfismo fra varietà e sia $t \in \Tau_s^r(M)$. Il \emph{push-forward} di $t$ tramite $\varphi$ è $\varphi_*t \coloneqq (T\varphi)_* \circ t \circ \varphi^{-1} \in \Tau_s^r(N)$.
	
	Se invece $t \in \Tau_s^r(N)$, definiamo il suo \emph{pull-back} come $\varphi^*t \coloneqq (\varphi^{-1})_* t$.
\end{definition}

\begin{proposition}
	Sia $\varphi: M \to N$ un diffeomorfismo e $t\in \Tau_s^r(M)$. Allora
	\begin{enumerate}
		\item $\varphi_*t \in \Tau_s^r(N)$;
		\item $\varphi_* : \Tau_s^r(M) \to \Tau_s^r(N)$ è un isomorfismo lineare;
		\item se $\psi: N \to P$ è un diffeomorfismo, allora $(\psi\circ \varphi)_* = \psi_* \circ \varphi_*$;
		\item $\varphi_*(t\otimes t') = \varphi_* t\otimes \varphi_* t'$, con $t\in \Tau_s^r(M)$ e $t'\in \Tau_{s'}^{r'}(M)$.
	\end{enumerate}
\end{proposition}

\begin{remark}
	Se $t\in\Tau_0^r(M)$, $\varphi_*t$ è ben definito anche se $\varphi$ non è un diffeomorfismo. Analogamente, se $t \in \Tau_r^0(N)$, $\varphi^*t$ è ben definito anche se $\varphi$ non è un diffeomorfismo.
\end{remark}















