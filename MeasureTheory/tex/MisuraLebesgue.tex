\section{Misura di Lebesgue}
Ora applicheremo i risultati astratti ottenuti nelle due precedenti sezioni al caso più tangibile della retta reale e dello spazio vettoriale $\R^n$.

Definiremo la misura di Lebesgue e, oltre a chiarire come mai questa sia la misura più naturale su $\R^n$, studieremo i misurabili secondo Lebesgue mostrando sia che non coincidono con la \sigalg{} dei Boreliani (cioè la \sigalg{} generata dagli aperti) sia che non coincidono con le parti di $\R^n$.

Nella prima parte di questa sezione, quella riguardante degli aspetti fondamentalmente combinatorici degli $n$-cubi di $\R^n$ lasceremo due dimostrazioni al lettore.
Queste vengono omesse in quanto, oltre ad essere molto pesanti notazionalmente e molto facili intuitivamente, non aggiungono nulla alla comprensione che si mira ad avere della misura di Lebesgue.


\begin{definition}\label{def:LebesgueSemiaperti}
	Indicheremo con $\S_n\subseteq\mathcal P(\R^n)$ l'insieme dei parallelepipedi $n$-dimensionali semiaperti a destra\footnote{Se $a\ge b$ con la scrittura $\co{a}{b}$ si intenderà l'insieme vuoto.}:
	\begin{equation*}
		\S_n=\left\{\co{a_1}{b_1}\times\cdots\times\co{a_n}{b_n}:\ (a_i)_{1\le i\le n},(b_i)_{1\le i\le n}\subseteq \R\right\}
	\end{equation*}
	
	Inoltre, dato $S=\co{a_1}{b_1}\times\cdots\times\co{a_n}{b_n}$, definiamo $S^-_i=a_i$ e $S^+_i=b_i$.
\end{definition}

\begin{proposition}\label{prop:SpaccareUnioneSemiaperti}
	Dati $A,B\in\S_n$ esiste una famiglia finita $(S_i)_{i\in I}\subseteq\S_n$ di insiemi disgiunti la cui unione disgiunta dà $A\cup B$ e tale che per ogni $i\in I$ vale una, ed una sola, delle seguenti:
	\begin{align*}
		S_i\subseteq &A\setminus B\\
		S_i\subseteq &B\setminus A\\
		S_i\subseteq &A\cap B
	\end{align*}
\end{proposition}
\begin{proof}
	Lasciata al lettore.
\end{proof}

\begin{lemma}\label{lem:SemianelloSemiAperti}
	La famiglia $\S_n$ è un \semiring{}.
\end{lemma}
\begin{proof}
	Ovviamente $\emptyset\in\S_n$.
	Inoltre dati $A,B\in\S_n$ si ricava facilmente che
	\begin{equation*}
		A\cap B=\co{\max(A^-_1,B^-_1)}{\min(A^+_1,B^+_1)}\times\cdots\times\co{\max(A^-_n,B^-_n)}{\min(A^+_n,B^+_n)}\in\S_n
	\end{equation*}

	Mentre per la differenza $A\setminus B$ applichiamo la \cref{prop:SpaccareUnioneSemiaperti} sugli insiemi $A,B$ per ottenere la famiglia $(S_i)_{i\in I}\subseteq \S_n$ come descritta dall'enunciato.
	Ora basta considerare la famiglia
	\begin{equation*}
		\mathcal F=\left\{S_i:\ i\in I\wedge S_i\subseteq A\setminus B\right\}
	\end{equation*}
	e notare che, viste le proprietà che ha la famiglia degli $(S_i)_{i\in I}$, l'unione disgiunta degli elementi della famiglia $\mathcal F$ è proprio $A\setminus B$.
	
	Ma visto che sia intersezione che differenza si scrivono come unione disgiunta di elementi di $\S_n$ abbiamo dimostrato che $\S_n$ è un \semiring{}.
\end{proof}

\begin{definition}\label{def:LebesgueElementare}
	Indicherò con $m_n:\S_n\to\Rpiu$ la funzione che associa ad ogni parallelepipedo il suo volume $n$-dimensionale:
	\begin{equation*}
		m_n(S)=\prod_{i=1}^n\max(0,S^+_i-S^-_i)
	\end{equation*}
\end{definition}
\begin{remark}\label{nota:LebesgueElementareProprieta}
	La funzione di insiemi $m_n$ è invariante per traslazione, cioè risulta che per ogni $S\in\S_n$ e $v\in\R^n$ vale\footnote{Definiamo lo shift di un insieme come $A+k=\{a+k:\ a\in A\}$.}
	\begin{equation*}
		m_n(S)=m_n(S+v)
	\end{equation*}
	ed è anche $n$-omogenea, cioè per ogni $\lambda>0$ e $S\in\S_n$ vale\footnote{Definisco la moltiplicazione per scalare come $\lambda S=\{\lambda s:\ s\in S\}$}
	\begin{equation*}
		m_n(\lambda S)=\lambda^n m_n(S)
	\end{equation*}
\end{remark}
\begin{proof}
	Entrambe le proprietà sono di facile verifica:
	\begin{multline*}
		m_n(S+v)=m_n\left(\co{S^-_1+v_1}{S^+_1+v_1}\times\cdots\times\co{S^-_n+v_n}{S^+_n+v_n}\right)\\
		=\prod_{i=1}^n\left((S^+_i+v_i)-(S^-_i+v_i)\right)=\prod_{i=1}^n\left(S^+_i-S^-_i\right)=m_n(S)
	\end{multline*}
	
	\begin{multline*}
		m_n(\lambda S)=m_n\left(\co{\lambda S^-_1}{\lambda S^+_1}\times\cdots\times\co{\lambda S^-_n}{\lambda S^+_n}\right)\\
		=\prod_{i=1}^n\left(\lambda S^+_i-\lambda S^-_i\right)=\lambda^n\prod_{i=1}^n\left(S^+_i-S^-_i\right)=\lambda^n m_n(S)
	\end{multline*}
\end{proof}


\begin{lemma}\label{lem:LebesgueElementareFinita}
	Dati $(S_i)_{1\le i\le k}\subseteq \S_n$ e $S\in\S_n$, valgono le seguenti disuguaglianze:
	\begin{itemize}
		\item Se gli $S_i$ sono disgiunti e $\bigsqcup_{i=1}^k S_i\subseteq S$ allora risulta
		\begin{equation*}
			\sum_{i=1}^k m_n(S_i)\le m_n(S)
		\end{equation*}
		\item Se vale il contenimento $S\subseteq\bigcup_{i=1}^k S_i$ allora risulta
		\begin{equation*}
			\sum_{i=1}^k m_n(S_i)\ge m_n(S)
		\end{equation*}
	\end{itemize}
\end{lemma}
\begin{proof}
	Lasciata al lettore.
\end{proof}

\begin{definition}\label{def:AllargamentoSemiaperti}
	Fissato $\lambda>0$ definiamo $F_\lambda:\S_n\to\S_n$ come l'operatore che associa ad $S\in\S_n$ l'insieme nullo se $S=\emptyset$ e altrimenti
	\begin{equation*}
		F_\lambda(S)=\co{S^-_1-\epsilon}{S^+_1}\times\cdots\times\co{S^-_n-\epsilon}{S^+_n}
	\end{equation*}
	dove $\epsilon>0$ è definito come
	\begin{equation*}
		\epsilon=\min\left(1,\frac{\lambda}{2^n\cdot m_n(S)}\right)\cdot\min_{1\le i\le n}\{S^+_i-S^-_i\}
	\end{equation*}
\end{definition}
\begin{remark}\label{nota:ParteInternaAllargamento}
	Segue banalmente dalla definizione che $S\in\S_n$ è un sottoinsieme della parte interna di $F_\lambda(S)$ per ogni $\lambda>0$.
\end{remark}

\begin{proposition}\label{prop:MisuraAllargamento}
	Fissati $\lambda>0$ e $S\in\S_n$ vale la seguente stima:
	\begin{equation*}
		m_n(S)\le m_n(F_\lambda(S))\le m_n(S)+\lambda
	\end{equation*}
\end{proposition}
\begin{proof}
	La prima disuguaglianza è ovvia.
	
	La seconda è ovvia se $S$ è vuoto, quindi assumiamo $S\not=\emptyset$.
	
	Ponendo $\epsilon$ come nella \cref{def:AllargamentoSemiaperti}, risulta vero
	\begin{multline*}
		\frac{m_n(F_\lambda(S))}{m_n(S)}=\prod_{i=1}^n\frac{S^+_i-S^-_i+\epsilon}{S^+_i-S^-_i}=
		\prod_{i=1}^n\left(1+\frac{\epsilon}{S^+_i-S^-_i}\right)\\\le
		\prod_{i=1}^n\left(1+\min\left(1,\frac{\lambda}{2^n\cdot m_n(S)}\right)\right)\le
		1+2^n\frac{\lambda}{2^n\cdot m_n(S)}=1+\frac{\lambda}{m_n(S)}
	\end{multline*}
	che implica la tesi moltiplicando ambo i membri per $m_n(S)$.
\end{proof}

\begin{theorem}\label{thm:LebesguePremisura}
	La terna $(\R^n,\S_n,m_n)$ è uno spazio di misura elementare.
\end{theorem}
\begin{proof}
	Per quanto mostrato nel \cref{lem:SemianelloSemiAperti} la famiglia $\S_n$ è un \semiring{}.
	
	Resta da dimostrare solo che $m_n$ è \sigadd{} su $\S_n$.
	Perciò fisso $(S_i)_{i\in\N}\subseteq \S_n$ disgiunti tali che la loro unione disgiunta dà $S\in\S_n$.
	
	Applicando il \cref{lem:LebesgueElementareFinita} abbiamo facilmente
	\begin{equation*}
		\forall k\in\N:\ \sqcup_{i=1}^k S_i\subseteq S\implies \forall k\in\N:\ \sum_{i=1}^k m_n(S_i)\le m_n(S) \implies \sum_{i\in\N}m_n(S_i)\le m_n(S)
	\end{equation*}

	
	Per ottenere la disuguaglianza opposta, concludendo quindi la dimostrazione, sfrutteremo la compattezza dei chiusi e limitati di $\R^n$, in particolare la possibilità di estrarre ricoprimenti finiti di aperti a partire da ricoprimenti numerabili.
	
	Fissiamo $\epsilon>0$ arbitrario.
	
	Grazie alla \cref{nota:ParteInternaAllargamento} abbiamo che la successione composta dalle parti interne degli elementi della successione $\left(F_{\frac\epsilon{2^i}}(S_i)\right)_{i\in\N}$ è un ricoprimento del compatto $S$.
	Perciò esiste un insieme finito di indici $I\subseteq \N$ tale che $\left(F_{\frac\epsilon{2^i}}(S_i)\right)_{i\in I}$ è un ricoprimento finito di $S$.
	
	Sfruttando ancora il \cref{lem:LebesgueElementareFinita} e applicando la \cref{prop:MisuraAllargamento} otteniamo
	\begin{equation*}
		\sum_{i\in\N}m_N(S_i)\ge \sum_{i\in I}m_N(S_i)\ge \sum_{i\in I}\left(m_n\left(F_{\frac\epsilon{2^i}}(S_i)\right)-\frac\epsilon{2^i}\right)
		\ge -\epsilon+\sum_{i\in I}m_n\left(F_{\frac\epsilon{2^i}}(S_i)\right)\ge m_n(S)-\epsilon
	\end{equation*}
	e visto che questo vale per ogni $\epsilon>0$ ne ricaviamo:
	\begin{equation*}
		\sum_{i\in\N}m_N(S_i)\ge m_n(S)
	\end{equation*}
	che conclude la dimostrazione della \sigadd[ità] di $m_n$.
\end{proof}

\begin{proposition}\label{prop:LebesguePremisuraSigFin}
	Lo spazio di misura elementare $(\R^n,\S_n,m_n)$ è \sigfin[o].
\end{proposition}
\begin{proof}
	Sfruttando che $\mathbb Z^n$ è numerabile, mostriamo esplicitamente la \sigfin[ezza]:
	\begin{equation*}
		\R^n=\bigsqcup_{i_1,i_2,\dots,i_n\in\mathbb Z^n} \co{i_1}{i_1+1}\times\cdots \times\co{i_n}{i_n+1}
	\end{equation*}
	
\end{proof}

\begin{proposition}\label{prop:ApertiUnioneDiSemiaperti}
	Ogni aperto di $\R^n$ si scrive come unione numerabile disgiunta di elementi di $\S_n$.
\end{proposition}
\begin{proof}
	Dato un aperto $A$, consideriamo tutti gli $n$-cubi con centro razionale e lato razionale contenuti in $A$.
	È facile vedere che l'unione di questi, che è ovviamente numerabile visto che $\mathbb Q^2$ lo è, è tutto l'aperto.
	
	Per ottenere che si può scrivere $A$ come unione disgiunta è sufficiente applicare la \cref{UnioneDisgiuntaQuasiAlgebra} ricordando che $\S_n$ è un \semiring{} come dimostrato nel \cref{lem:SemianelloSemiAperti}.
\end{proof}

\begin{definition}\label{def:Boreliani}
	I Boreliani di $\R^n$ sono la \sigalg{} generata dai sottoinsiemi aperti di $\R^n$.
\end{definition}

\begin{proposition}\label{prop:SigAlgUgualeBoreliani}
	La \sigalg{} generata da $\S_n$ coincide con i Boreliani di $\R^n$.
\end{proposition}
\begin{proof}
	Per quanto mostrato nella \cref{prop:ApertiUnioneDiSemiaperti} di certo la \sigalg{} generata da $\S_n$ contiene gli aperti di $\R^n$.
	Ma allora la \sigalg{} generata dagli aperti e quella generata da $\S_n$ coincidono e si ottiene la tesi.
\end{proof}

Ora che abbiamo ottenuto una premisura su $\R^n$, applicheremo il teorema di Caratheodory per ricavarne quindi una misura su $\R^n$. 
Continueremo dimostrando le proprietà dei misurabili in questa nuova misura per poi caratterizzarla come l'unica misura che coincida con la nozione intuitiva di volume, cioè sia invariante per traslazione e sia normalizzata sul cubo unitario.

\begin{definition}\label{def:LebesgueMisura}
	Dato lo spazio $(\R^n,\S_n,m_n)$, che si è mostrato essere di misura elementare nel \cref{thm:LebesguePremisura}, sia $\M_n$, che verrà chiamato l'insieme dei misurabili secondo Lebesgue, la relativa \sigalg{} di Caratheodory e $m_n:\M_n\to\Rpiu$ \footnote{Qui abusiamo leggermente di notazione, visto che con $m_n$ si indicava la premisura.}, che verrà chiamata misura di Lebesgue, la misura associata, la cui esistenza ci è assicurata dal \cref{EstensioneCaratheodory}. 
	Inoltre indicheremo con $m_n^*:\mathcal P(\R^n)\to\Rpiu$ la misura esterna associata a $m_n$, che quindi ridotta su $\M_n$ coincide con la misura di Lebesgue.
\end{definition}

\begin{remark}\label{nota:LebesgueCompletezza}
	La misura di Lebesgue su $\R^n$ è completa.
\end{remark}
\begin{proof}
	È un'ovvia conseguenza del \cref{EstensioneCaratheodory}.
\end{proof}

\begin{remark}\label{nota:LebesgueSigFin}
	La misura di Lebesgue è \sigfin{}.
\end{remark}
\begin{proof}
	È una banale conseguenza della \cref{prop:LebesguePremisuraSigFin}
\end{proof}

\begin{proposition}\label{prop:CompletamentoBoreliani}
	I Boreliani di $\R^n$ sono un sottoinsieme di $\M_n$ ed in particolare il loro completamento rispetto alla misura di Lebesgue è proprio $\M_n$.
\end{proposition}
\begin{proof}
	Il \cref{EstensioneCaratheodory} ci assicura che la \sigalg{} $\M_n$ dei Boreliani contiene la \sigalg{} generata da $\S_n$ e perciò, sfruttando \cref{prop:SigAlgUgualeBoreliani}, otteniamo i Boreliani sono misurabili secondo Lebesgue come voluto.
	
	Per avere che il completamento dei Boreliani coincide con $\M_n$ basta applicare \cref{prop:CaratheodoryCompletamentoSigAlg} ricordando \cref{prop:LebesguePremisuraSigFin}.
\end{proof}

\begin{theorem}\label{thm:LebesgueEquivalenzeMisurabilita}
	Dato $A\subseteq \R^n$ sono equivalenti le seguenti proposizioni:
	\begin{enumerate}[label=(\arabic*),ref=(\arabic*)]
		\item $A$ è misurabile secondo Lebesgue.\label{it:LEMMisurabile}
		\item Fissato $\epsilon>0$ esiste $C$ aperto che contiene $A$ e tale che $m_n^*(C\setminus A)<\epsilon$. \label{it:LEMApertoFuori}
		\item Fissato $\epsilon>0$ esiste $C$ chiuso contenuto in $A$ e tale che $m_n^*(A\setminus C)<\epsilon$. \label{it:LEMChiusoDentro}
		\item Esiste $B$ Boreliano che contiene $A$ e tale che $m_n^*(B\setminus A)=0$. \label{it:LEMBorelFuori}
		\item Esiste $B$ Boreliano contenuto in $A$ e tale che $m_n^*(A\setminus B)=0$. \label{it:LEMBorelDentro}
		\item Esiste una successione $(K_i)_{i\in\N}$ di compatti di $\R^n$ tutti contenuti in $A$, che si contengono in maniera crescente $K_i\subseteq K_{i+1}$ e la cui unione rispetta $m_n^*\left(A\setminus\bigcup_{i\in\N}K_i\right)=0$. \label{it:LEMCompattiDentro}
	\end{enumerate}
\end{theorem}
\begin{proof}
	È chiaro che questo teorema richiama, specializzandola al caso della misura di Lebesgue, il \cref{thm:EquivalenzeMisurabilitaSottoinsieme}.
	
	In particolare applicando il \cref{thm:EquivalenzeMisurabilitaSottoinsieme} si ha da subito che \ref{it:LEMMisurabile},\ref{it:LEMBorelFuori},\ref{it:LEMBorelDentro} sono equivalenti (poichè i Boreliani sono la \sigalg{} generata da $\S_n$ come mostrato nella \cref{prop:SigAlgUgualeBoreliani}) e anche che \ImplicationProof{it:LEMApertoFuori}{it:LEMMisurabile} poichè per quanto dimostrato nella \cref{prop:ApertiUnioneDiSemiaperti} un aperto è unione disgiunta di elementi di $\S_n$.
	
	Ancora per il \cref{thm:EquivalenzeMisurabilitaSottoinsieme}, assumendo la \ref{it:LEMMisurabile}, sappiamo che esistono $(S_i)_{i\in\N}\subseteq \S_n$ disgiunti, la cui unione $S$ contiene $A$ ed è tale che $m_n^*(S\setminus A)<\epsilon$.
	Allora definendo $C$ come la parte interna di $\bigcup_{i\in\N}F_\frac{\epsilon}{2^i}(S_i)$ abbiamo in effetti che, grazie alla \cref{prop:MisuraAllargamento}, $m_n^*(C\setminus A)\le \epsilon$.
	Unendo quanto detto e sfruttando la \sigsubadd[ità] della misura esterna si ottiene proprio $m_n^*(C\setminus A)<\epsilon$ e questo conclude la dimostrazione di \ImplicationProof{it:LEMMisurabile}{it:LEMApertoFuori}.
	
	Abbiamo quindi dimostrato che \ref{it:LEMMisurabile},\ref{it:LEMApertoFuori},\ref{it:LEMBorelFuori},\ref{it:LEMBorelDentro} sono tutte equivalenti.
	
	Per concludere dimostriamo la serie di implicazioni \ImplicationProof{it:LEMMisurabile}{it:LEMChiusoDentro}$\,\implies\,\,$\ImplicationProof{it:LEMCompattiDentro}{it:LEMBorelDentro}.
	\begin{description}
		\item[\ImplicationProof{it:LEMMisurabile}{it:LEMChiusoDentro}] Visto che $A\in\M_n$, allora anche il suo complementare è misurabile e visto che abbiamo già mostrato \ImplicationProof{it:LEMMisurabile}{it:LEMApertoFuori} otteniamo che esiste $D$ aperto tale che $A^\mathsf{c}\subseteq D$ e $m_n^*(D\setminus A^c)< \epsilon$.
		
		Allora chiamando $C$ il chiuso complementare di $D$ risulta banale verificare che $C$ rispetta le richieste di \ref{it:LEMChiusoDentro}.
		\item[\ImplicationProof{it:LEMChiusoDentro}{it:LEMCompattiDentro}] Sia $C_i$ un chiuso tale che $C_i\subseteq A$ e $m_n^*(A\setminus C_i)<\frac1i$.
		Chiamiamo $K_i$ l'insieme ottenuto intersecando la palla chiusa di raggio $i$ centrata nell'origine con il chiuso $\bigcup_{j\le i}C_i$.
		
		I $K_i$ sono compatti, poichè definiti come intersezione tra un chiuso ed un chiuso e limitato. 
		Ancora per definizione $K_i\subseteq K_{i+1}$ e inoltre l'unione dei $K_i$ coincide con l'unione dei $C_i$.
		
		Per concludere è sufficiente perciò verificare che l'unione dei $C_i$, oltre ad essere ovviamente contenuta in $A$, lo approssima a meno di un trascurabile.
		La verifica risulta agevole sfruttando la monotonia della misura esterna:
		\begin{equation*}
			\forall i_0\in\N:\ m_n^*(A\setminus \bigcup_{i\in\N} C_i)\le m_n^*(A\setminus C_{i_0})< \frac 1{i_0}\implies m_n^*(A\setminus \bigcup_{i\in\N} C_i)=0
		\end{equation*}

		\item[\ImplicationProof{it:LEMCompattiDentro}{it:LEMBorelDentro}] Presi i compatti descritti dalla proposizione, l'unione è ovviamente un Boreliano e rispetta le richieste della \ref{it:LEMBorelDentro}.
	\end{description}

\end{proof}

\begin{proposition}\label{prop:LebesgueUnicaEstensione}
	La misura di Lebesgue è l'unica possibile estensione alla \sigalg{} dei Boreliani della premisura $m_n$ definita su $\S_n$.
\end{proposition}
\begin{proof}
	È una banale conseguenza della \cref{UnicitaCaratheodory}, che si può applicare ricordando la \cref{prop:LebesguePremisuraSigFin} e notando che la \sigalg{} generata da $\S_n$ sono i Boreliani come mostrato nella \cref{prop:SigAlgUgualeBoreliani}.
\end{proof}

\begin{remark}\label{nota:LebesgueProprieta}
	La misura di Lebesgue in $\R^n$ ha le seguenti proprietà:
	\begin{itemize}
		\item È invariante per traslazione.
		\item È $n$-omogenea.
	\end{itemize}
\end{remark}
\begin{proof}
	Ricordiamo innanzitutto che la misura di Lebesgue è stata costruita appplicando il teorema di Caratheodory e perciò nasce come la riduzione della misura esterna associata a $m_n$ (questa volta da vedere come ridotta su $\S_n$). 
	Basta quindi mostrare che la misura esterna rispetta le proprietà richieste.
	
	Ma è chiaro che le proprietà richieste, poichè gli operatori in gioco commutano con l'unione, vengono ereditate dalla misura esterna se la premisura le rispetta.
	
	Ma nel nostro caso la premisura le rispetta come dimostrato nella \cref{nota:LebesgueElementareProprieta} e questo chiude la dimostrazione.
\end{proof}

\begin{theorem}\label{thm:LebesgueUnicaInvarianteTraslazione}
	Se $\mu$ è una misura sui Boreliani di $\R^n$ invariante per traslazione tale che la misura del cubo unitario valga $1$, cioè
	\begin{equation*}
		\mu\left(\co01\times\co01\times\cdots\times\co01\right)=1
	\end{equation*}
	allora $\mu\equiv m_n$, in altre parole la misura di Lebesgue è l'unica misura con queste proprietà (l'invarianza per traslazione è dimostrata nella \cref{nota:LebesgueProprieta}).
\end{theorem}
\begin{proof}
	L'idea della dimostrazione è provare che $\mu$ e $m_n$ coincidono sugli elementi di $\S_n$ con estremi interi, poi con estremi razionali ed infine con estremi generici.
	Una volta ottenuto questo, basterà applicare la \cref{prop:LebesgueUnicaEstensione} per avere la tesi.
	
	Chiamiamo $C$ il cubo unitario come definito nell'enunciato.
	
	Fissato $S\in\S_n$ tale che per ogni $1\le i\le n$ valga $S^-_i,S^+_i\in \mathbb Z$, sia $\mathbb Z(S)$ l'insieme dei punti con tutte le coordinate intere appartenenti a $S$.
	
	È facile vedere che
	\begin{equation*}
		\bigsqcup_{v\in\mathbb Z(S)} C+v=S
	\end{equation*}
	da cui otteniamo, visto che $\mu,m_n$ sono misure invarianti per traslazione che coincidono su $C$, che $\mu,m_n$ coincidono anche su $S$.
	
	Ora invece scegliamo $S\in\S_n$ tale che per ogni $1\le i\le n$ valga $S^-_i,S^+_i\in \mathbb Q$. Possiamo assumere, vista l'invarianza per traslazione di tutto quanto, che per ogni $1\le i\le n$ valga $S^-_i=0$.
	
	Sia $m\in\mathbb Z$ tale che per ogni $1\le i\le n$ valga $mS^+_i\in \mathbb Z$, cioè ad esempio si può porre $m$ come il minimo comune multiplo di tutti i denominatori.
	
	Allora, analogamente a quanto già fatto nel caso intero, vale la seguente identità:
	\begin{equation*}
		\co0{mS^+_1}\times\cdots\times\co0{mS^+_n}=
		\bigsqcup_{(i_1,i_2,\dots i_n)\in\mathbb \{0,1,\dots,m-1\}^n}S+(i_1S_1^+,i_2S_2^+,\dots,i_nS_n^+)
	\end{equation*}
	Ma ora applicando quanto abbiamo ricavato per la misura di elementi con estremi a coordinate intere, è chiaro che la misura del membro destro dell'ultima uguaglianza coincide per $\mu,m_n$ e allora sfruttando ancora la loro invarianza per traslazione otteniamo che coincidono anche su $S$.
	
	Ora consideriamo $S\in\S_n$ generico e notiamo che vista la densità dei razionali nei reali posso scrivere $S$ come unione \emph{crescente} di elementi $(Q_i)_{i\in\N}\subseteq \S_n$ con estremi a coordinate razionali. 
	Da questa scrittura, sfruttando la \cref{LimiteMonotonoCrescenteMisura} e quanto già ottenuto sulla coincidenza tra $\mu$ e $m_n$, otteniamo
	\begin{equation*}
		m_n(S)=\lim_{n\to\infty}m_n(Q_i)=\lim_{n\to\infty}\mu(Q_i)=\mu(S)
	\end{equation*}
	cioè $\mu,m_n$ coincidono su $S$ e visto che questo è arbitrariamente scelto in $\S_n$ coincidono su tutto $\S_n$.
	
	Ora finalmente possiamo applicare la \cref{prop:LebesgueUnicaEstensione} ed ottenere $\mu\equiv m_n$, che è la tesi.
\end{proof}
\begin{remark}
	Se togliamo dalle ipotesi del \cref{thm:LebesgueUnicaInvarianteTraslazione} la normalizzazione sul cubo unitario è banale, dividendo per il corretto fattore di normalizzazione, ricavare che allora la misura $\mu$ non coincide con Lebesgue ma è un suo multiplo di un fattore costante (proprio la misura $\mu$ del cubo unitario).
	
	Spesso useremo implicitamente questa versione del \cref{thm:LebesgueUnicaInvarianteTraslazione} piuttosto che metterci nelle ipotesi esatte del teorema.
\end{remark}



Ora passiamo a dimostrare che la misura di Lebesgue è anche invariante per isometria, oltre che per rotazione, e che gli insiemi intuitivamente \emph{piccoli} sono trascurabili secondo Lebesgue.

In particolare le prime due proposizioni tecniche, concernenti le funzioni che mandano misurabili in misurabili, oltre ad avere una veloce applicazione nel dimostrare che la misura di Lebesgue è invariante per isometria, torneranno utili quando si vorranno studiare i cambi di variabili lineari nella teoria dell'integrazione.

\begin{proposition}\label{prop:ContinueSpecialiTengonoMisurabili}
	Data una funzione $f:\R^n\to\R^n$ continua tale che per ogni $N\in\M_n$ trascurabile anche l'immagine $f(N)$ è trascurabile, allora per ogni $A\in\M_n$ misurabile anche $f(A)$ è misurabile.
\end{proposition}
\begin{proof}
	Fissato $A$ misurabile, applicando il \cref{thm:LebesgueEquivalenzeMisurabilita}, otteniamo l'esistenza di $(K_i)_{i\in\N}$ compatti di $\R^n$ e di $N$ trascurabile tali che la loro unione (crescente sui compatti) è $A$. Applicando quanto detto abbiamo
	\begin{equation*}
		f(A)=f\left(N\cup\bigcup_{i\in\N}K_i\right)=f(N)\cup\bigcup_{i\in\N}f(K_i)
	\end{equation*}
	ma $f(N)$ è trascurabile a sua volta per ipotesi, e $f(K_i)$ è compatto poichè è immagine continua di un compatto.
	
	Allora abbiamo scritto anche $f(A)$ come unione di un trascurabile e di un unione crescente di compatti e questo, ancora per il \cref{thm:LebesgueEquivalenzeMisurabilita}, implica che $f(A)$ è misurabile come voluto.
\end{proof}

\begin{proposition}\label{prop:LipschitzTengonoMisurabili}
	Data una funzione $f:\R^n\to\R^n$ Lipschitziana di costante $\lambda$, la funzione $f$ manda misurabili in misurabili ed in particolare vale la seguente stima sulla misura:
	\begin{equation*}
		\forall A\in\M_n:\ \lambda^n m_n(A) \ge m_n(f(A))
	\end{equation*}
\end{proposition}
\begin{proof}
	Dimostriamo innanzitutto la stima richiesta nel caso della misura esterna piuttosto che della misura.
	
	Dato un ricoprimento $(S_i)_{i\in\N}\subseteq \S_n$ di un insieme $A$ misurabile, siano $(v_i)_{i\in\N}$ i centri degli $n$-parallelepipedi.
	Chiamiamo $S'_i=\lambda(S_i-v_i)+f(v_i)$.
	Allora è facile convincersi, sfruttando la Lipschitzianità della funzione, che l'immagine di $S_i$ tramite $f$ è un sottoinsieme di $S'_i$, cioè $f(S_i)\subseteq S'_i$.
	
	Inoltre per la \cref{nota:LebesgueElementareProprieta} abbiamo anche che $m_n(S'_i)=\lambda^n m_n(S_i)$. 
	E quindi unendo quanto detto arriviamo ad avere
	\begin{equation}\label{eq:StimaMisuraEsternaLipschitz}
		\lambda^n m_n^*(A) \ge m_n^*(f(A)) 
	\end{equation}
	che implica in particolare che se $A$ è trascurabile, anche $f(A)$ è trascurabile.
	Rientriamo perciò nelle ipotesi della \cref{prop:ContinueSpecialiTengonoMisurabili} e quindi otteniamo che $f$ manda misurabili in misurabili, cioè $f(A)$ è misurabile.
	
	Per concludere basta notare che l'\cref{eq:StimaMisuraEsternaLipschitz} ci assicura la stima richiesta dal testo, visto che nel caso in cui $A$ sia misurabile anche $f(A)$ lo è e perciò le misure esterne coincidono con le misure.
\end{proof}

\begin{proposition}\label{prop:LebesgueProprietaIsometria}
	La misura di Lebesgue su $\R^n$ è invariante per isometria.
\end{proposition}
\begin{proof}
	Poichè ogni isometria si scrive come una rotazione composta con una traslazione e sappiamo già grazie alla \cref{nota:LebesgueProprieta} che la misura di Lebesgue è invariante per traslazione, è sufficiente dimostrare che la misura di Lebesgue è invariante per rotazione.
	Sia $O:\R^n\to\R^n$ una rotazione. Essendo una rotazione di $\R^n$, questa è in particolare un'applicazione lineare continua di un Banach in se stesso ed è perciò anche Lipschitziana (si può dimostrare anche più facilmente in questo caso).
	
	Allora per quanto visto nella \cref{prop:LipschitzTengonoMisurabili} la funzione $O$ manda misurabili in misurabili e perciò ha senso definire la funzione di insiemi $m_n \circ O=\mu:\M_n\to\M_n$. 
	Se dimostriamo che $\mu\equiv m_n$ abbiamo proprio che $m_n$ è invariante per rotazione.
	
	È facile notare che $\mu$ è invariante per traslazione, visto che dati $A\in \M_n$ e $v\in\R^n$ vale
	\begin{equation*}
		\mu(A+v)=m_n(O(A+v))=m_n(O(A)+O(v))=m_n(O(A))=\mu(A)
	\end{equation*}
	dove nei vari passaggi abbiamo usato l'invarianza per traslazione della misura di Lebesgue e la linearità di $O$.
	
	Inoltre, essendo $O$ anche bigettiva, come mostrato nella \cref{prop:BigettivaInduceMisura}, la funzione $\mu$ risulta essere una misura.
	
	Allora unendo quanto ottenuto abbiamo che $\mu$ è una misura invariante per traslazione su $\M_n$ e quindi in particolare sui Boreliani di $\R^n$. Allora applicando il \cref{thm:LebesgueUnicaInvarianteTraslazione} si ottiene che esiste $\lambda\in\Rpiu$ tale che $\mu=\lambda m_n$.
	
	Ora basta considerare la palla unitaria $B$ di $\R^n$, che è misurabile poichè aperta.
	La palla $B$, che ha ovviamente misura di Lebesgue né nulla né infinita, è invariante rispetto a $O$, essendo questa una rotazione, e perciò $\mu(B)=m_n(B)$ da cui ricaviamo che $\lambda=1$ cioè $\mu\equiv m_n$ che era quanto si voleva dimostrare.
\end{proof}

\begin{proposition}\label{prop:NumerabiliLebesgueTrascurabili}
	Dato un insieme numerabile $A\subseteq\R^n$, questo è misurabile con misura nulla.
\end{proposition}
\begin{proof}
	I singoli punti, essendo banalmente trascurabili, sono Lebesgue misurabili visto che la misura di Lebesgue è completa, come mostrato nella \cref{nota:LebesgueCompletezza}.
	
	L'insieme $A$ è però numerabile, quindi unione numerabile di singoli punti, che sono trascurabili. Perciò $A$ è trascurabile a sua volta che significa che $A$ è misurabile di misura nulla.
\end{proof}

\begin{proposition}\label{prop:SottospaziTrascurabili}
	Dato $U\subset\R^n$, se lo spazio \emph{affine} generato da $U$ ha dimensione strettamente minore di $n$, allora $U$ è trascurabile secondo Lebesgue.
\end{proposition}
\begin{proof}
	Definiamo $V=\{(x_1,x_2,\dots,x_{n-1},0):\ (x_i)_{1\le i\le n-1}\subseteq\R\}$.
	
	Poichè lo spazio generato da $U$ ha dimensione $\le n-1$, esiste un'isometria che manda $U$ in un sottoinsieme di $V$ ed essendo la misura di Lebesgue invariante per isometria, come dimostrato nella \cref{prop:LebesgueProprietaIsometria}, è sufficiente dimostrare che $V$ è trascurabile per concludere.
	
	Dato $\epsilon>0$ e $k\in\N$ chiamiamo
	\begin{equation*}
		I_\epsilon(k)=\co{-k}k\times\co{-k}k\times\cdots\times \co{\frac{-\epsilon}{(2k)^{n-1}2^{k+1}}}{\frac{+\epsilon}{(2k)^{n-1}2^{k+1}}}
	\end{equation*}
	È banale, sfruttando la sola definizione della premisura $m_n$, che $m_n(I_\epsilon(k))=\frac{\epsilon}{2^k}$.
	
	Inoltre sfruttando la sola definizione di $V$ è facile verificare che per ogni $\epsilon>0$
	\begin{equation*}
		V\subset\bigcup_{k\in\N} I_\epsilon(k)\implies m_n^*(V)\le \sum m_n(I_\epsilon(k))=\epsilon
	\end{equation*}
	e questo conclude dato che implica, valendo per $\epsilon>0$, che la misura esterna di $V$ è nulla e perciò che $V$ è trascurabile.
\end{proof}

\begin{exercise}\label{ex:CantorTrascurabile}
	L'insieme di Cantor è trascurabile secondo la misura di Lebesgue $m_1$ su $\R$.
\end{exercise}

Concludiamo questa sezione, oltre che con un paio di esercizi, con due importanti risultati che mostrano esplicitamente che l'insieme dei misurabili è strettamente contenuto tra i Boreliani e le parti di $\R^n$.

In questa sezione mostriamo che i Boreliani non coincidono con i misurabili, ragionando sulle rispettive cardinalità e applicando risultati che vengono dalla teoria degli ordinali. Nel seguito di queste dispense proporremo un'altra dimostrazione di questo stesso risultato che sfrutta unicamente fatti collegati con la teoria della misura.

\begin{proposition}\label{prop:CardBoreliani}
	I Boreliani di $\R^n$ hanno la cardinalità del continuo.
\end{proposition}
\begin{remark}
	I Boreliani si possono ottenere a partire dall'insieme degli aperti $\tau$ con una successione di insiemi, ottenendo uno dal precedente
	mediante aggiunta dei complementari e delle intersezioni numerabili. Tuttavia non basta una successione finita, né l'unione degli insiemi
	così ottenuti. Vediamo allora come formalizzare questa costruzione utilizzando un'indicizzazione sugli ordinali.
	
	Questa costruzione permetterà poi di ottenere facilmente la cardinalità dei Boreliani.
\end{remark}
\begin{proof}
	Per comodità, definiamo le seguenti applicazioni su famiglie di sottoinsiemi di $X$:
	$\cdot_{\delta}:\mathcal{P}(\mathcal{P}(X)) \rightarrow \mathcal{P}(\mathcal{P}(X))$ tale che
	\[
		A_{\delta} = \left\{ \bigcap_{n\in\N}E_n : E_n\in A \right\};
	\]
	e $\cdot_{\mathsf{c}}:\mathcal{P}(\mathcal{P}(X)) \rightarrow \mathcal{P}(\mathcal{P}(X))$ tale che
	\[
		A_{\mathsf{c}} = \left\{ E^\mathsf{c} : E\in A \right\}.
	\]
	
	Consideriamo quindi la seguente funzione, definita come $f:ON \rightarrow \mathcal{P}(\mathcal{P}(\R^n))$:
	\[
	f(\alpha) = \left\{
		\begin{array}{ll}
			\tau & \quad se\ \alpha=0, \\
			f(\beta)_{\delta}\cup f(\beta)_{\mathsf{c}} & \quad se\ \alpha=\beta+1,\\
			\bigcup_{\beta < \alpha}f(\alpha) & \quad se\ \alpha\ \grave{e}\ un\ ordinale\ limite.
		\end{array}
	\right.
	\]
	Questa $f$ rappresenta la successione di famiglie di insiemi che, partendo dagli aperti, raggiungerà una \sigalg,
	che è quella generata dagli aperti.
	
	Per prima cosa osserviamo che se $\beta < \alpha$, $f(\beta)\subseteq f(\alpha)$. Altrimenti, consideriamo il più piccolo $\alpha$
	tale che esiste $\beta<\alpha$ per cui non vale questa proposizione. Chiaramente $\alpha\neq 0$ e $\alpha$ non è un ordinale limite,
	quindi è successore di un ordinale $\gamma\geq \beta$. Per minimalità di $\alpha$, $f(\beta)\subseteq f(\gamma)$, tuttavia è sempre vero
	che $A\subseteq A_{\delta}$ (basta considerare intersezione di famiglie costanti), allora si ottiene $f(\gamma)\subseteq f(\alpha)$, assurdo.
	
	Ora dimostriamo che $f(\omega_1)$\footnote{Ricordiamo che $\omega_1$ è il primo ordinale più che numerabile.} è una \sigalg.
	\begin{description}
	 \item[Chiusura rispetto complementare] Se $E\in f(\omega_1)$, esiste $\alpha<\omega_1$ tale che $E\in f(\alpha)$.
		Quindi $E^\mathsf{c}\in f(\alpha+1) \subseteq f(\omega_1)$.
	 \item[Chiusura rispetto intersezione numerabile] Se $\{E_n\}_{n\in\N}\subseteq f(\omega_1)$, allora $\forall n\in\N$, esiste $\alpha_n<\omega_1$
		tale che $E_n\in f(\alpha_n)$. Inoltre $\lambda=\bigcup_{n\in\N}\alpha_n$ è un ordinale numerabile, perché unione numerabile di ordinali
		numerabili, cioè $\lambda<\omega_1$. Ma allora vale che $E_n\in f(\lambda)$, per ogni $n\in\N$.
		Quindi $\bigcap_{n\in\N}E_n\in f(\lambda+1)\subseteq f(\omega_1)$.
	\end{description}
	
	Avendo mostrato che $f(\omega_1)$ è una \sigalg, abbiamo che $f(\omega_1+1)=f(\omega_1)$, quindi $f$ è definitivamente costante.
	
	Mostriamo quindi che $f(\omega_1)$ sono i Boreliani.
	Per fare ciò, basta mostrare che i Boreliani contengono $f(0)=\tau$, che se contengono $A$ contengono $A_{\delta}$ e $A_{\mathsf{c}}$ e che
	se contengono tutti gli elementi di una famiglia $\{A_i\}_{i\in I}$ allora contengono anche la loro unione $\bigcup_{i\in I}A_i$.
	È però ovvio che la \sigalg \ generata dagli aperti soddisfi tutte queste proprietà.
	
	Ora che sappiamo che $f(\omega_1)$ sono i Boreliani, calcoliamone la cardinalità.
	Intanto, $|f(0)|=|\tau|=|\R|$\footnote{È fatto noto che gli aperti di $\R^n$ si scrivono come unione numerabile di palle di centro e raggio razionali e da questa osservazione discende che hanno la cardinalità del continuo.}. Poi, $|A_{\delta}|\leq |A|^{|\N|}$ e $|A_{\mathsf{c}}|=|A|$.
	Infine $|\bigsqcup_{\beta<\alpha}E_{\beta}| \leq |E||\alpha|$, con $|E_{\beta}|\leq |E|$ per ogni $\beta < \alpha$. Tutto ciò, porta a dire che
	\begin{equation}\label{eq:CardBorel}
		|\R|=|f(0)|\leq |f(\omega_1)| \leq |\omega_1||E| \leq |E|,
	\end{equation}
	purché $E$ sia un insieme di cardinalità maggiore od uguale a quella di tutti gli $f(\alpha)$ con $\alpha<\omega_1$;
	l'ultima disuguaglianza si ha perché è sicuramente vero che $|E|\geq |f(0)| = |\R| \geq |\omega_1|$.
	Ma ora, per tutti gli ordinali al più numerabili, $|f(\alpha)|=|\R|$, altrimenti consideriamo il più piccolo ordinale per cui non vale;
	non può essere $0$, non può essere un successore:
	\[
		|f(\alpha+1)|\leq |f(\alpha)|+|f(\alpha)|^{\N} = |\R|^{|\N|} = |\R|
	\]
	e non può essere un ordinale limite:
	\[
		|f(\alpha)|\leq |\alpha| |\R| \leq |\N||\R| = |\R|.
	\]
	Quindi $E$ basta che sia $\R$, allora dall'\cref{eq:CardBorel} si ha che i Boreliani hanno la cardinalità del continuo.
\end{proof}
\begin{corollary}\label{cor:BorelianiNonMisurabili}
	I Boreliani sono \emph{strettamente} contenuti nei misurabili.
\end{corollary}
\begin{proof}
	Il contenimento debole è mostrato nella \cref{prop:CompletamentoBoreliani}.
	Per concludere che non coincidono è sufficiente mostrare che hanno cardinalità differenti.
	
	Per quanto riguarda la misura di Lebesgue su $\R$, visto che Cantor è trascurabile, come enunciato nell'\cref{ex:CantorTrascurabile}, sia esso che tutti i suoi sottoinsiemi sono misurabili. 
	Ma Cantor ha, per fatto noto, la cardinalità del continuo e quindi l'insieme delle sue parti ha cardinalità $2^{|\R|}$, e perciò i misurabili hanno cardinalità $2^{|\R|}$ (per mostrare che non è maggiore basta notare che $\M_n\subseteq\mathcal P(\R)$).
	
	In dimensione $n>1$, basta considerare un insieme i cui elementi siano nulli su tutte le coordinate eccetto che sulla prima. Questo è trascurabile per la \cref{prop:SottospaziTrascurabili}, e perciò si può procedere analogamente a quanto fatto nel caso unidimensionale e ottenere che la cardinalità dei misurabili di $\R^n$ è $2^{|\R|}$ (per mostrare l'uguaglianza serve usare $|\R^n|=|\R|$).
	
	Ma la \cref{prop:CardBoreliani} ci assicura che i Boreliani hanno cardinalità $|\R|$, indifferentemente dalla dimensione in cui lavoriamo, e questo conclude la dimostrazione, visto che $2^{|\R|}\succ |\R|$.
\end{proof}

\begin{theorem}[Insieme di Vitali]\label{thm:InsiemeVitali}
	Dato un sottoinsieme $A\in\M_n$ misurabile secondo Lebesgue con misura non nulla, esiste un sottoinsieme $B\subseteq A$ non misurabile secondo Lebesgue, cioè $B\not\in\M_n$.
\end{theorem}
\begin{proof}
	Dato $A$, notiamo che per la \sigadd[ità] della misura vale:
	\begin{equation*}
		0<m_n(A)=\sum_{(i_1,i_2,\dots,i_n)\in\mathbb Z^n} m_n\left(A\cap\left(\co{i_1}{i_1+1}\times\cdots\co{i_n}{i_n+1}\right)\right)
	\end{equation*}
	e perciò in particolare, visto che la serie ha somma positiva, ne ricaviamo che esistono $(i_1,\dots,i_n)\in \mathbb Z^n$ tale che:
	\begin{equation*}
		0<m_n\left(A\cap\left(\co{i_1}{i_1+1}\times\cdots\co{i_n}{i_n+1}\right)\right)\le
		m_n\left(\co{i_1}{i_1+1}\times\cdots\co{i_n}{i_n+1}\right)=1
	\end{equation*}
	quindi, a meno di intersecare con $\co{i_1}{i_1+1}\times\cdots\co{i_n}{i_n+1}$, possiamo assumere che $A$ sia contenuto in tale $n$-parallelepipedo poichè l'ipotesi di misura non nulla non si perde. 
	In particolare, poichè la misura di Lebesgue è invariante per traslazione come mostrato nella \cref{nota:LebesgueProprieta}, senza perdita di generalità assumeremo $A\subseteq \co{0}{1}\times\cdots\co{0}{1}$.
	
	Poniamo su $\R^n$ la relazione di equivalenza seguente:
	\begin{equation*}
		\forall x,y\in\R^n:\ x\equiv y\iff x-y\in\mathbb Q^n
	\end{equation*}
	Ora quozientiamo $\R^n$ rispetto a questa relazione d'equivalenza. In particolare siano $(R_i)_{i\in I}$ le classi d'equivalenza, dove $I$ è un insieme di indici. Sia infine $J$ il sottoinsieme degli indici definito come $J=\{i\in I:\ R_i\cap A\not =\emptyset\}$. 

	Applichiamo ora l'assioma della scelta alla famiglia di insiemi $(R_j\cap A)_{j\in J}$ e estraiamone un insieme di rappresentanti privilegiati $(r_j)_{j\in J}$. Sia ora $B$ l'insieme dei rappresentanti privilegiati.
	
	Vale, per costruzione, $B\subseteq A$. 
	Inoltre, ancora per la definizione di $B$, risulta
	\begin{equation}\label{eq:ContenimentiVitali}
		A\subseteq\bigsqcup_{q\in\mathbb Q^n\cap\left(\cc{-1}{1}\times\cdots \times\cc{-1}{1}\right)} B+q\subseteq \cc{-1}{2}\times\cdots\times\cc{-1}{2}
	\end{equation}
	dato che ogni elemento di $A$ si scrive \emph{in modo unico} (e questo spiega perchè l'unione è disgiunta) come un rappresentante privilegiato rispetto all'equivalenza più un elemento a coordinate razionali, che in questo caso possiamo scegliere tra $-1$ e $1$ poichè $A\subseteq \co 01\times\cdots \times\co 01$.
	
	Se assumiamo che $B$ sia misurabile, ora otteniamo un assurdo applicando l'\cref{eq:ContenimentiVitali} e ricordando che $m_n$ è invariante per traslazione come mostrato nella \cref{nota:LebesgueProprieta}:
	\begin{equation*}
		0<m_n(A)\le \sum_{q\in \mathbb Q^n\cap\left(\cc{-1}{1}\times\cdots \times\cc{-1}{1}\right)} m_n(B+q)=
		\sum_{q\in \mathbb Q^n\cap\left(\cc{-1}{1}\times\cdots \times\cc{-1}{1}\right)} m_n(B) \le 3^n
	\end{equation*}
	che non può essere visto che stiamo sommando una quantità numerabile di volte il valore $m_n(B)$ e perciò possiamo ottenere solo $+\infty$ oppure $0$.
	
	Allora l'insieme $B$ deve essere non misurabile come richiesto.
\end{proof}
\begin{corollary}\label{cor:MisurabiliNonParti}
	Grazie al \cref{thm:InsiemeVitali}, è ovvio mostrare che i misurabili di $\R^n$ non coincidono con le parti di $\R^n$.
\end{corollary}

\begin{exercise}
	Dato un insieme $A\subseteq\R^n$ di misura nulla secondo Lebesgue e un insieme numerabile $T\subset \R^n$, esiste $k\in \R^n$ tale che $A+k$ sia disgiunto da $T$.
\end{exercise}
\begin{proof}
	Consideriamo l'insieme $B=\bigcup_{t\in T} (A-t)$. 
	Essendo unione numerabile di trascurabili è a sua volta trascurabile.
	Perciò esiste $k\in\R^n\setminus B$ visto che $\R^n$ non è trascurabile.
	
	Assumendo per assurdo che $A-k$ intersechi $T$, avremmo che esistono $t\in T$ e $a\in A$ tali che:
	\begin{equation*}
		a-k=t\implies k=a-t \implies k\in A-t\implies k\in B	
	\end{equation*}
	ma questo non può essere per definizione di $k$ e perciò otteniamo che $A-k$ è disgiunto da $T$, che è la tesi.
\end{proof}

\begin{theorem}[Steinhaus]\label{thm:Steinhaus}
	Dato un misurabile $A\in\M_n$ non trascurabile, l'insieme $A-A=\{a_1-a_2:\ a_1,a_2\in A\}$ contiene un intorno di $0$.
\end{theorem}
\begin{proof}
	Innanzitutto notiamo che si può supporre $A$ limitato e di misura finita. Consideriamo infatti una numerazione $(B_n)$ degli $n$-cubi chiusi di $\R^n$ di lato 1, con vertici a valori negli interi (cioè ogni $B_n$ sarà della forma $B_n=[m_1,m_1+1]\times\cdots\times[m_n,m_n+1]$ con $m_1,\dots,m_n\in\Z$). Allora abbiamo che $A_n=A\cap B_n$ è misurabile di misura finita per ogni $n\in\N$. Inoltre almeno uno degli $A_n$ deve avere misura diversa da 0 per la \cref{nota:UnioneTrascurabili}. Tale $A_n$ rispetta quindi esso stesso le ipotesi del teorema e se la tesi valesse per questo $A_n$ limitato varrebbe banalmente anche per $A$. Ci basta quindi dimostrare la tesi per $A$ limitato e di conseguenza anche di misura finita.
	
	Per il \cref{thm:LebesgueEquivalenzeMisurabilita} e poichè $A$ ha misura finita, fissato $\epsilon>0$, esistono $H\supseteq A$ aperto e $C\subseteq A$ chiuso tali che
	\[
		m_n(C)+\epsilon > m_n(A) > m_n(H)-\epsilon\punto
	\]
	Inoltre, dato che $C$ è chiuso e limitato (quindi compatto), $H^\mathsf{c}$ è chiuso e $C \cap H^\mathsf{c} = \emptyset$, esiste $\rho>0$ tale che
	$(C+B_{\rho}(0)) \cap H^\mathsf{c} = \emptyset$ (basta prendere $\rho = \frac{1}{2}\inf\{|c-h|:c\in C\virgola\ h\in H\}$, che è maggiore di 0 per la compattezza di $C$).
	Allora si ha che $\forall x\in B_{\rho}(0)$, $C \cap (C+x) \neq \emptyset$; altrimenti per monotonia della misura si avrebbe
	\[
		2m_n(C) = m_n(C)+m_n(C+x) \leq m_n(C+B_{\rho}(0)) \leq m_n(H)\virgola
	\]
	ma questo contraddirebbe la disuguaglianza precedente, pur di considerare $\epsilon< \frac{1}{2}m_n(C)$. E ciò è sempre possibile, dato che
	$m_n(A) > 0$ per ipotesi.
	
	La contraddizione implica che $\forall x\in B_{\rho}(0)$ esistono $c_1,c_2$ tali che $c_1+x=c_2$, cioè che $B_{\rho}(0) \subseteq A-A$.
\end{proof}


