\section{Integrazione secondo Lebesgue}
In questa sezione definiremo la nozione di integrale secondo Lebesgue e dimostreremo alcuni risultati introduttivi. In particolare definiremo inizialmente l'integrale di funzioni misurabili positive per poi estenderlo facilmente alle funzioni misurabili che hanno integrale del loro valore assoluto finito. Chiameremo queste ultime funzioni integrabili. Inoltre indicheremo l'integrale di $f$ su una spazio di misura $(X,\A,\mu)$ con 
\begin{equation*}
	\int_X f(x) \de \mu(x)=\int_X f \de \mu=\int f \de \mu=\int f
\end{equation*}
dove si applicheranno le varie omissioni quando saranno ovvi la variabile di integrazione $x$, lo spazio di misura $X$ o la misura $\mu$.

\begin{lemma}
	Data una funzione $\simp$ semplice e positiva su $(X,\A,\mu)$, esistono $c_k>0$ reali, con $k=1,\dots, n$, tale che $\simp=\sum_{k=1}^nc_k\chi(E_k)$, dove $E_k\in \A$.
\end{lemma}


\begin{definition}\label{DefIntSemp}
	Sia $\simp$ una funzione misurabile, semplice e non negativa, definita sullo spazio di misura $(X,\A,\mu)$. Definiamo l'integrale di Lebesgue della funzione il valore
	\begin{equation*}
		\int_X \simp d \mu = \sum_{k=1}^n c_k\mu(E_k)
	\end{equation*}
	dove $c_k\in \R$ e $E_k \in \A$ sono tali che $\simp=\sum_{k=1}^nc_k\chi(E_k)$.
\end{definition}

\begin{remark}\label{BuonaDefIntSemp}
	Quella appena enunciata è una buona definizione, cioè non dipende dalla scelta dei $c_k$ e degli $E_k$.
\end{remark}
\begin{proof}
	Consideriamo innanzitutto dei $c_k\in \R$ e degli $E_k\in \A$ tali che $\simp=\sum_{k=1}^nc_k\chi(E_k)$ e definiamo per ogni $\alpha\subseteq\{1,2,\dots,n\}$:
	\begin{equation*}
		\begin{cases}
			E_\alpha=\bigcap_{k\in\alpha}E_k\setminus \bigcup_{k\not\in \alpha} E_k\\
			c_\alpha=\sum_{k\in\alpha} c_k
		\end{cases}
	\end{equation*}
	D'ora in poi nelle sommatorie sottointenderemo l'insieme su cui cicla $\alpha$, cioè $\mathcal{P}(\{1,2,\dots,n\})$.
	
	Innanzitutto gli $E_\alpha$ sono ancora insiemi misurabili in quanto $\A$ è una \sigalg{} e sono insiemi disgiunti, inoltre vale facilmente che:
	\begin{equation*}
		\simp=\sum_{k=1}^nc_k\chi(E_k)=\sum_{k=1}^nc_k\sum_{\alpha\ni k}\chi(E_\alpha)=\sum_\alpha \chi(E_\alpha)\sum_{k\in\alpha}c_k=\sum_\alpha c_\alpha\chi(E_\alpha)
	\end{equation*}
	dove ho utilizzato che $E_k=\cup_{\alpha\ni k} E_\alpha$.

	Vogliamo dimostrare che $\sum_{k=1}^nc_k\mu(E_k)=\sum_{\alpha}c_\alpha\mu(E_\alpha)$, ma per l'additività di $\mu$ su insiemi disgiunti otteniamo:
	\begin{equation}\label{RaffinamentoIntegrale}
		\sum_\alpha c_\alpha\mu(E_\alpha)=\sum_\alpha \sum_{k\in\alpha}c_k\mu(E_\alpha)=\sum_{k=1}^n c_k\sum_{\alpha \ni k} \mu(E_\alpha)=\sum_{k=1}^n c_k \mu(E_k)
	\end{equation}
	che è proprio quello che volevamo.
	
	Consideriamo ora $c_k, b_k\in\R$ ed $E_k,F_k\in\A$ tali che $\simp=\sum_{k=1}^nc_k\chi(E_k)=\sum_{k=1}^mb_k\chi(F_k)$. A meno di aggiungere dei termini ad entrambe le sommatorie possiamo supporre $E_k=F_k$ e $n=m$, da cui $\simp=\sum_{k=1}^nc_k\chi(E_k)=\sum_{k=1}^nb_k\chi(E_k)$. Applichiamo la costruzione di prima e otteniamo:
	\begin{equation*}
		\begin{cases}
			E_\alpha=\bigcap_{k\in\alpha}E_k\setminus \bigcup_{k\not\in \alpha} E_k\\
			c_\alpha=\sum_{k\in\alpha} c_k\\
			b_\alpha=\sum_{k\in\alpha} b_k
		\end{cases}
	\end{equation*}
	da cui ricaviamo per quanto detto precedentemente che:
	\begin{equation}
		\sum_\alpha c_\alpha\chi(E_\alpha)=\sum_{k=1}^nc_k\chi(E_k)=\simp=\sum_{k=1}^nb_k\chi(E_k)=\sum_\alpha b_\alpha\chi(E_\alpha)
	\end{equation}
	che implica facilmente che $c_\alpha=b_\alpha$ per ogni $\alpha$, poichè gli $E_\alpha$ sono disgiunti.
	
	Infine da quest'ultima uguaglianza e dalla \cref{RaffinamentoIntegrale} otteniamo proprio quello che volevamo, in quanto:
	\begin{equation*}
		\sum_{k=1}^n c_k \mu(E_k)=\sum_\alpha c_\alpha\mu(E_\alpha)=\sum_\alpha b_\alpha\mu(E_\alpha)=\sum_{k=1}^n b_k \mu(E_k)
	\end{equation*}
\end{proof}

\begin{proposition}\label{PropIntSemp}
	Date $\simp_1,\simp_2$ funzioni semplici e positive su $(X,\A,\mu)$ e dati $a,b$ reali non negativi valgono:
	\begin{enumerate}
		\item $\int (a\simp_1+b\simp_2)=a\int \simp_1+b\int \simp_2$; \label{PIS:add}
		\item $\simp_1\le \simp_2\Longrightarrow \int f\le \int g$. \label{PIS:mono}
	\end{enumerate}
\end{proposition}
\begin{proof}
	Seguono entrambe facilmente dalla definizione di integrale di funzioni semplici e dalla \cref{BuonaDefIntSemp}.
\end{proof}

\begin{proposition}\label{IntSempSpezzato}
	Siano $X_1,X_2,\dots,X_k$ misurabili e disgiunti tali che $X=\cup_{m=1}^kX_m$ e sia $\simp$ una funzione semplice e positiva, allora
	\begin{equation*}
		\int_X \simp \de \mu=\sum_{m=1}^k \int_{X_m}\simp\de \mu
	\end{equation*}
\end{proposition}
\begin{proof}
	TODO
\end{proof}



\begin{definition}\label{DefIntPos}
	Sia $f$ una funzione misurabile non negativa su $(X,\A,\mu)$, allora definiamo l'integrale di $f$ come
	\begin{equation*}
		\int_Xf\de\mu=\sup\left\{\int_X\simp\de \mu:\ 0\le \simp\le f\ \wedge\ \simp \text{ semplice}\right\}
	\end{equation*}
\end{definition}

\begin{proposition}
	Data una successione crescente di funzioni semplici e non negative $(\simp_n)$ tali che convergono puntualmente a $f$, vale 
	\begin{equation*}
		\int_X f\de\mu=\sup\left\{\int_X\simp_n\de\mu\right\}
	\end{equation*}
\end{proposition}
\begin{proof}
	Dimostriamo innanzitutto che dato un insieme $Y\subseteq X$ misurabile tale che $f\ge a$ in $Y$, allora vale $\sup\left\{\int_Y\simp_n\de\mu\right\}\ge a\mu(Y)$.
	
	Dato $\epsilon>0$ sia $A_n=\{\simp_n\ge a-\epsilon\}\cap Y$. Allora abbiamo che gli $A_n$ sono misurabili, vale $A_n\subseteq A_{n+1}$, perchè le $\simp_n$ sono crescenti, e $\cup_nA_n=Y$. Inoltre $\simp_n\ge (a-\epsilon)\chi_{A_n}$ in $Y$ per la definizione stessa di $A_n$. Perciò per \cref{PropIntSemp} ho che
	\begin{equation*}
		\int_Y\simp_n\ge(a-\epsilon)\mu(A_n)
	\end{equation*}
	da cui passando al limite su $n$ ed utilizzando che $\lim_{n\to\infty}\int_y\simp_n=\sup\int_y\simp_n$, otteniamo
	\begin{equation*}
		\sup\left\{\int_Y\simp_n\right\}\ge(a-\epsilon)\lim_{n\to\infty}\mu(A_n)=(a-\epsilon)\mu(Y)
	\end{equation*}
	dove in particolare nell'ultima uguaglianza abbiamo utilizzato \cref{LimiteMonotonoCrescenteMisura}. Poichè in quest'ultima relazione $\epsilon$ è arbitrario otteniamo quindi
	\begin{equation*}
		\sup\left\{\int_Y\simp_n\right\}\ge a\mu(Y)
	\end{equation*}

	Consideriamo ora una qualsiasi funzione semplice $\simp$ tale che $0\le \simp\le f$. Per facile conseguenza della definizione di funzione semplice, esistono $k$ sottoinsiemi misurabili disgiunti di $X$, che chiamiamo $X_1,\dots,X_k$, tali che $\cup_{m=1}^kX_m=X$ e $\simp|_{X_m}$ è costante per ogni $m=1,\dots,k$.
	
	Per quanto dimostrato precedentemente abbiamo che $\sup\left\{\int_{X_m}\simp_n\right\}\ge a_m\mu(X_m)$ per ogni $m=1,\dots,k$, dove $a_m=\simp|_{X_m}$. Unendo questo risultato a \cref{IntSempSpezzato} e ricordando che i $\sup$ sono in realtà dei limiti, otteniamo:
	\begin{equation*}
		\sup_n\left\{\int_X\simp_n\right\}=\sup_n\left\{\sum_{m=1}^k \int_{X_m}\simp_n\de \mu\right\}=\sum_{m=1}^k\sup_n\left\{ \int_{X_m}\simp_n\de \mu\right\}\ge \sum_{m=1}^ka_m\mu(X_m)=\int_X\simp
	\end{equation*}
	Passando ora all'estremo superiore per $0\le \simp \le f$ otteniamo proprio:
	\begin{equation*}
		\sup\left\{\int_X\simp_n\right\}\ge \int_X f \Longrightarrow \sup\left\{\int_X\simp_n\right\}= \int_X f
	\end{equation*}
	dove l'ultima implicazione è ovvia perchè banalmente $\sup\left\{\int_X\simp_n\right\}\le \int_X f$.



\end{proof}





