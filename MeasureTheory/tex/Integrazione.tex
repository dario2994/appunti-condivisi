\section{Integrazione secondo Lebesgue}
In questa sezione definiremo la nozione di integrale secondo Lebesgue e dimostreremo alcuni risultati introduttivi. In particolare definiremo inizialmente l'integrale di funzioni misurabili positive per poi estenderlo facilmente alle funzioni misurabili che hanno integrale del loro valore assoluto finito. Chiameremo queste ultime funzioni integrabili.

\begin{remark}
	Indicheremo l'integrale di $f$ su una spazio di misura $(X,\A,\mu)$ con 
	\begin{equation*}
		\int_X f(x) \de \mu(x)=\int_X f \de \mu=\int f \de \mu=\int f
	\end{equation*}
	dove si applicheranno le varie omissioni quando saranno ovvi la variabile di integrazione $x$, lo spazio di misura $X$ o la misura $\mu$.
\end{remark}

\begin{definition}\label{def:IntegraleSemplici}
	Sia $\simp:X\to \Rpiu$ una funzione misurabile, semplice e positiva, definita sullo spazio di misura $(X,\A,\mu)$. Definiamo l'integrale di Lebesgue della funzione il valore
	\begin{equation*}
		\int_X \simp d \mu = \sum_{k=1}^n c_k\mu(E_k)
	\end{equation*}
	dove $c_k\in \Rbar$ e $E_k \in \A$ sono tali che $\simp=\sum_{k=1}^nc_k\chi_{E_k}$.
\end{definition}

\begin{remark}\label{BuonaDefIntSemp}
	Quella appena enunciata è una buona definizione, cioè non dipende dalla scelta dei $c_k$ e degli $E_k$.
\end{remark}
\begin{proof}
	Consideriamo innanzitutto dei $c_k\in \Rbar$ e degli $E_k\in \A$ tali che $\simp=\sum_{k=1}^nc_k\chi_{E_k}$ e definiamo per ogni $\alpha\subseteq\{1,2,\dots,n\}$:
	\begin{equation*}
		\begin{cases}
			E_\alpha=\bigcap_{k\in\alpha}E_k\setminus \bigcup_{k\not\in \alpha} E_k\\
			c_\alpha=\sum_{k\in\alpha} c_k
		\end{cases}
	\end{equation*}
	D'ora in poi nelle sommatorie sottointenderemo l'insieme su cui cicla $\alpha$, cioè $\mathcal{P}(\{1,2,\dots,n\})$.
	
	Innanzitutto gli $E_\alpha$ sono ancora insiemi misurabili (in quanto $\A$ è una \sigalg{}) e sono insiemi disgiunti, inoltre vale facilmente che:
	\begin{equation*}
		\simp=\sum_{k=1}^nc_k\chi_{E_k}=\sum_{k=1}^nc_k\sum_{\alpha\ni k}\chi_{E_\alpha}=\sum_\alpha \chi_{E_\alpha}\sum_{k\in\alpha}c_k=\sum_\alpha c_\alpha\chi_{E_\alpha}
	\end{equation*}
	dove ho utilizzato che $E_k=\cup_{\alpha\ni k} E_\alpha$.

	Vogliamo dimostrare che $\sum_{k=1}^nc_k\mu(E_k)=\sum_{\alpha}c_\alpha\mu(E_\alpha)$, ma per l'additività di $\mu$ su insiemi disgiunti otteniamo:
	\begin{equation}\label{RaffinamentoIntegrale}
		\sum_\alpha c_\alpha\mu(E_\alpha)=\sum_\alpha \sum_{k\in\alpha}c_k\mu(E_\alpha)=\sum_{k=1}^n c_k\sum_{\alpha \ni k} \mu(E_\alpha)=\sum_{k=1}^n c_k \mu(E_k)
	\end{equation}
	che è proprio quello che volevamo.
	
	Consideriamo ora $c_k, b_k\in\Rbar$ ed $E_k,F_k\in\A$ tali che $\simp=\sum_{k=1}^nc_k\chi_{E_k}=\sum_{k=1}^mb_k\chi_{F_k}$. A meno di aggiungere dei termini ad entrambe le sommatorie possiamo supporre $E_k=F_k$ e $n=m$, da cui $\simp=\sum_{k=1}^nc_k\chi_{E_k}=\sum_{k=1}^nb_k\chi_{E_k}$. Applichiamo la costruzione di prima e otteniamo:
	\begin{equation*}
		\begin{cases}
			E_\alpha=\bigcap_{k\in\alpha}E_k\setminus \bigcup_{k\not\in \alpha} E_k\\
			c_\alpha=\sum_{k\in\alpha} c_k\\
			b_\alpha=\sum_{k\in\alpha} b_k
		\end{cases}
	\end{equation*}
	da cui ricaviamo per quanto detto precedentemente che:
	\begin{equation}
		\sum_\alpha c_\alpha\chi_{E_\alpha}=\sum_{k=1}^nc_k\chi_{E_k}=\simp=\sum_{k=1}^nb_k\chi_{E_k}=\sum_\alpha b_\alpha\chi_{E_\alpha}
	\end{equation}
	che implica facilmente che $c_\alpha=b_\alpha$ per ogni $\alpha$, poichè gli $E_\alpha$ sono disgiunti.
	
	Infine da quest'ultima uguaglianza e dalla \cref{RaffinamentoIntegrale} otteniamo proprio quello che volevamo, in quanto
	\begin{equation*}
		\sum_{k=1}^n c_k \mu(E_k)=\sum_\alpha c_\alpha\mu(E_\alpha)=\sum_\alpha b_\alpha\mu(E_\alpha)=\sum_{k=1}^n b_k \mu(E_k)
	\end{equation*}
\end{proof}

\begin{proposition}\label{prop:IntegraleSemplici}
	Date $\simp_1,\simp_2:X\to\Rpiu$ funzioni semplici e positive con $(X,\A,\mu)$ spazio di misura e dati $a,b$ reali non negativi, valgono:
	\begin{enumerate}
		\item $\int (a\simp_1+b\simp_2)\de\mu=a\int \simp_1\de\mu+b\int \simp_2\de\mu$ \label{PIS:add}
		\item $\simp_1\le \simp_2\Longrightarrow \int \simp_1\de\mu\le \int \simp_2\de\mu$ \label{PIS:mono}
	\end{enumerate}
\end{proposition}
\begin{proof}
	Seguono entrambe facilmente dalla definizione di integrale di funzioni semplici e dalla \cref{BuonaDefIntSemp}.
\end{proof}

\begin{proposition}\label{prop:IntegraleSempliciSpezzato}
	Siano $X_1,X_2,\dots,X_k$ misurabili e disgiunti tali che $X=\cup_{m=1}^kX_m$ e sia $\simp$ una funzione semplice e positiva, allora
	\begin{equation*}
		\int_X \simp \de \mu=\sum_{m=1}^k \int_{X_m}\simp\de \mu
	\end{equation*}
\end{proposition}
\begin{proof}
	Per ogni $X_m$ siano $c_{m,i}\in\Rbar$ e $E_{m,i}\in\A$, per $i=1,2,\dots,n_m$, tali che 
	\begin{equation*}
		\simp|_{X_m}=\sum_{i=1}^{n_m}c_{m,i}\chi_{E_{m,i}}
	\end{equation*}
	allora vale
	\begin{equation*}
		\simp=\sum_{m=1}^k\sum_{i=1}^{n_m}c_{m,i}\chi_{E_{m,i}}
	\end{equation*}
	da cui quindi ottengo facilmente
	\begin{equation*}
		\int_X \simp \de \mu=\sum_{m=1}^k\sum_{i=1}^{n_m}c_{m,i}\mu(E_{m,i})=\sum_{m=1}^k\int_{X_m}\simp\de \mu
	\end{equation*}

\end{proof}



\begin{definition}\label{def:IntegralePositive}
	Sia $f:X\to\Rpiu$ una funzione misurabile positiva, con $(X,\A,\mu)$ spazio di misura, allora definiamo l'integrale di $f$ come
	\begin{equation*}
		\int_Xf\de\mu=\sup\left\{\int_X\simp\de \mu:\ 0\le \simp\le f\ \wedge\ \simp \text{ semplice}\right\}
	\end{equation*}
\end{definition}

\begin{proposition} \label{DefinizioneEquivalenteIntegralePositive}
	Data una funzione $f:X\to\Rpiu$ misurabile e positiva e data una successione crescente di funzioni semplici e positive $(\simp_n)$ tali che convergono puntualmente a $f$, vale 
	\begin{equation*}
		\int_X f\de\mu=\sup_{n\in\N}\left\{\int_X\simp_n\de\mu\right\}
	\end{equation*}
\end{proposition}
\begin{proof}
	Dimostriamo innanzitutto che dato un insieme $Y\subseteq X$ misurabile tale che $f\ge a$ in $Y$, allora vale $\sup_{n\in\N}\left\{\int_Y\simp_n\de\mu\right\}\ge a\mu(Y)$.
	
	Dato $\epsilon>0$ sia $A_n=\{\simp_n\ge a-\epsilon\}\cap Y$. Allora abbiamo che gli $A_n$ sono misurabili, vale $A_n\subseteq A_{n+1}$, perchè le $\simp_n$ sono crescenti, e $\cup_nA_n=Y$. Inoltre $\simp_n\ge (a-\epsilon)\chi_{A_n}$ in $Y$ per la definizione stessa di $A_n$. Perciò per \cref{prop:IntegraleSemplici} ho che
	\begin{equation*}
		\int_Y\simp_n\de\mu\ge(a-\epsilon)\mu(A_n)
	\end{equation*}
	da cui passando al limite su $n$ ed utilizzando che $\lim_{n\to\infty}\int_Y\simp_n\de\mu=\sup_{n\in\N}\int_Y\simp_n\de\mu$, otteniamo
	\begin{equation*}
		\sup_{n\in\N}\left\{\int_Y\simp_n\de\mu\right\}\ge(a-\epsilon)\lim_{n\to\infty}\mu(A_n)=(a-\epsilon)\mu(Y)
	\end{equation*}
	dove in particolare nell'ultima uguaglianza abbiamo utilizzato \cref{LimiteMonotonoCrescenteMisura}. Poichè in quest'ultima relazione $\epsilon$ è arbitrario otteniamo quindi
	\begin{equation*}
		\sup_{n\in\N}\left\{\int_Y\simp_n\de\mu\right\}\ge a\mu(Y)
	\end{equation*}

	Consideriamo ora una qualsiasi funzione semplice $\simp$ tale che $0\le \simp\le f$. Per facile conseguenza della definizione di funzione semplice, esistono $k$ sottoinsiemi misurabili disgiunti di $X$, che chiamiamo $X_1,\dots,X_k$, tali che $\cup_{m=1}^kX_m=X$ e $\simp|_{X_m}$ è costante per ogni $m=1,\dots,k$.
	
	Per quanto dimostrato precedentemente abbiamo che $\sup_{n\in\N}\left\{\int_{X_m}\simp_n\de\mu\right\}\ge a_m\mu(X_m)$ per ogni $m=1,\dots,k$, dove $a_m=\simp|_{X_m}$. Unendo questo risultato a \cref{prop:IntegraleSempliciSpezzato} e ricordando che i $\sup$ sono in realtà dei limiti, otteniamo:
	\begin{equation*}
		\sup_{n\in\N}\left\{\int_X\simp_n\de\mu\right\}=\sup_{n\in\N}\left\{\sum_{m=1}^k \int_{X_m}\simp_n\de \mu\right\}=\sum_{m=1}^k\sup_{n\in\N}\left\{ \int_{X_m}\simp_n\de \mu\right\}\ge \sum_{m=1}^ka_m\mu(X_m)=\int_X\simp\de\mu
	\end{equation*}
	Passando ora all'estremo superiore per $0\le \simp \le f$ otteniamo proprio:
	\begin{equation*}
		\sup_{n\in\N}\left\{\int_X\simp_n\de\mu\right\}\ge \int_X f \de\mu\Longrightarrow \sup_{n\in\N}\left\{\int_X\simp_n\de\mu\right\}= \int_X f\de\mu
	\end{equation*}
	dove l'ultima implicazione è ovvia perchè banalmente $\sup_{n\in\N}\left\{\int_X\simp_n\de\mu\right\}\le \int_X f\de\mu$.
\end{proof}

\begin{proposition}\label{prop:IntegralePositive}
	Date $f,g:X\to\Rpiu$ funzioni misurabili positive con $(X,\A,\mu)$ spazio di misura e dati $a,b$ reali non negativi valgono:
	\begin{enumerate}
		\item $\int (af+bg)\de\mu=a\int f\de\mu+b\int g\de\mu$ \label{PIP:add}
		\item $f\le g\Longrightarrow \int f\de\mu\le \int g\de\mu$ \label{PIP:mono}
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{description}
		\item[\ref{PIP:add}] Siano $(\simp_n^f)_{n\in\N}$ e $(\simp_n^g)_{n\in\N}$ due successioni crescenti di funzioni semplici e positive convergenti rispettivamente ad $f$ e a $g$. Vale facilmente che la successione crescente di funzioni semplici e positive $(a\simp_n^f+b\simp_n^g)_{n\in\N}$ converge a $af+bg$. Allora per le \cref{DefinizioneEquivalenteIntegralePositive,prop:IntegraleSemplici} abbiamo che
		\begin{equation*}
		\begin{split}
			a\int f\de\mu+b\int g\de\mu&=a\sup_{n\in\N}\int \simp_n^f\de\mu+b\sup_{n\in\N}\int \simp_n^g\de\mu \\
			&=\sup_{n\in\N}\int (a\simp_n^f+b\simp_n^g)\de\mu=\int (af+bg)\de\mu
		\end{split}
		\end{equation*}
		
		\item[\ref{PIP:mono}] Segue facilmente dalla \cref{def:IntegralePositive}, in quanto se $\simp$ è una funzione semplice e positiva minore o uguale a $f$ è anche minore o uguale a $g$, perciò
		\begin{equation*}
		\int f\de\mu=\sup_{n\in\N}\left\{\int\simp\de \mu:\ 0\le \simp\le f\le g\ \wedge\ \simp \text{ semplice}\right\}\le \int g\de\mu
	\end{equation*}
	\end{description}
\end{proof}

\begin{theorem}[Beppo Levi]\label{thm:BeppoLevi}
	Sia $(f_n)$ una successione crescente di funzioni misurabili positive convergenti puntualmente ad una funzione $f$, allora $\int_Xf\de\mu=\lim_{n\to\infty}\int_Xf_n\de\mu$.
\end{theorem}

\begin{proof}
	Innanzitutto notiamo che ha senso parlare dell'integrale di $f$, perchè essendo $f(x)=\sup_{n\in\N}f_n(x)$ per ogni $x\in X$, per la \cref{SupMis} $f$ è una funzione misurabile e positiva.
	
	Per il \cref{cor:LimSemCrescMis}, per ogni $n$ esiste una successione crescente di funzioni semplici positive $(\simp_{n,k})_{k\in\N}$ che converge puntalmente a $f_n$. In particolare utilizzando la stessa costruzione del \cref{cor:LimSemCrescMis} notiamo che è possibile scegliere le $\simp_{n,k}$ crescenti anche rispetto a $n$. Allora la successione $(\simp_{n,n})$ converge puntalmente a $f$. Di conseguenza otteniamo proprio
	\begin{equation*}
		\int_X f\de\mu=\sup_{n\in\N}\int_X\simp_{n,n}\de\mu=\sup_{k,n\in\N}\int_X \simp_{n,k}\de\mu=\sup_{n\in\N}\int_X f_n\de\mu=\lim_{n\to\infty}\int_Xf_n\de\mu
	\end{equation*}
\end{proof}

\begin{corollary}\label{cor:IntegrazionePerSeriePositive}
	Sia $(f_n)$ una successione di funzioni misurabili e positive, definite su uno spazio di misura $(X,\A,\mu)$ e a valori in $\Rbar$. Allora esiste $f:X\to\Rbar$ misurabile e positiva tale che $f(x)=\sum_{n=0}^\infty f_n(x)$, per ogni $x\in X$, e $\int f\de\mu=\sum_{n=0}^\infty\int f_n\de\mu$.
\end{corollary}

\begin{proof}
	Per ogni $x\in X$, sia $s_n(x)=\sum_{k=0}^nf_n(x)$. Innanzitutto $(s_n)$ è una successione crescente di funzioni misurabili positive e $f(x)=\sum_{n=0}^\infty f_n(x)=\sup_{n\in\N}s_n(x)$, quindi $f$ è una funzione misurabile e positiva per la \cref{SupMis}. Dato che le $s_n$ covergono puntalmente a $f$, sono rispettate tutte le ipotesi del \cref{thm:BeppoLevi} e perciò vale
	\begin{equation*}
		\int f \de\mu=\lim_{n\to\infty}\int s_n\de\mu=\lim_{n\to\infty}\int \sum_{k=0}^nf_n\de\mu=\lim_{n\to\infty}\sum_{k=0}^n \int f_n\de\mu=\sum_{k=0}^\infty\int f_n\de\mu
	\end{equation*}
	che è proprio quello che volevamo dimostrare.
\end{proof}



\begin{lemma}[Fatou] \label{lem:Fatou}
	Sia $(f_n)$ una successione di funzioni misurabili positive, allora 
	\begin{equation*}
		\int_X\left(\liminf_{n\to\infty}f_n(x)\right)\de\mu\le \liminf_{n\to\infty}\int_Xf_n\de\mu
	\end{equation*}
\end{lemma}

\begin{proof}
	Applichiamo il \cref{thm:BeppoLevi} alla successione di funzioni crescenti $(\inf_{k\ge n}f_k(x))_{n\in\N}$ che converge puntalmente alla funzione $\liminf_{n\to\infty}f_n(x)$ e otteniamo
	\begin{equation*}
		\int_X\left(\liminf_{n\to\infty}f_n\right)\de\mu=\int_X \sup_{n\in\N}\left\{\inf_{k\ge n}f_k\right\}\de\mu=\sup_{n\in\N}\int_X \inf_{k\ge n}f_k\de\mu\le \liminf_{n\to\infty}\int_Xf_n\de\mu
	\end{equation*}
	dove l'ultima disuguaglianza è vera per la monotonia dell'integrale. Infatti per la \cref{prop:IntegralePositive}, ho che
	\begin{equation*}
		\int_X \inf_{k\ge n}f_k\de\mu\le \int_Xf_k\de\mu \ \forall k\ge n \Longrightarrow \int_X \inf_{k\ge n}f_k\de\mu\le \inf_{k\ge n}\int_Xf_k\de\mu
	\end{equation*}
\end{proof}

\begin{definition}
	Una funzione misurabile $f:X\to\Rbar$, con $(X,\A,\mu)$ spazio di misura, si dice integrabile se 
	\begin{equation*}
		\LNorm f\doteqdot \int_X |f|\de\mu
	\end{equation*}
	ha valore finito. In particolare chiamiamo $\LNorm f$ norma integrale di $f$.
	
% 	La quantità $\LNorm f$ è detta norma integrale, anche se non è effettivamente una norma.
\end{definition}

\begin{definition}\label{def:IntegraleIntegrabili}
	Data una funzione integrabile $f:X\to\Rbar$, con $(X,\A,\mu)$ spazio di misura, definiamo il suo integrale come
	\begin{equation*}
		\int_X f\de\mu=\int_Xf_+\de\mu-\int_Xf_-\de\mu
	\end{equation*}
	dove $f_+=\max\{0,f\}$ e $f_-=\max\{0,-f\}$.
\end{definition}

\begin{remark}
	Notiamo in particolare che le funzioni $f_+$ ed $f_-$, oltre ad essere positive, sono anche integrabili.
\end{remark}

\begin{lemma}\label{DefinizioneEquivalenteIntegraleIntegrabili}
	Data una funzione integrabile $f:X\to\Rbar$ e date due funzioni $g,h:X\to \Rbar$ integrabili e positive tali che $f=g-h$, allora
	\begin{equation*}
		\int_X f\de\mu=\int_Xg\de\mu-\int_Xh\de\mu
	\end{equation*}
\end{lemma}
\begin{proof}
	Poichè $f_++h=f_-+g$, per la \cref{prop:IntegralePositive} e ricordando che gli integrali di $f_+,f_-,g,h$ sono finiti, otteniamo
	\begin{gather*}
		\int  f_+\de\mu+\int  h\de\mu=\int  f_-\de\mu+\int  g\de\mu \\
		\Longrightarrow \int f\de\mu=\int f_+\de\mu-\int f_-\de\mu=\int g\de\mu-\int h\de\mu
	\end{gather*}

\end{proof}

\begin{proposition}\label{prop:IntegraleIntegrabili}
	Date $f,g:X\to\Rbar$ funzioni integrabili con $(X,\A,\mu)$ spazio di misura e dati $a,b$ reali valgono:
	\begin{enumerate}
		\item $\int (af+bg)\de\mu=a\int f\de\mu+b\int g\de\mu$ \label{PII:add}
		\item $f\le g\Longrightarrow \int f\de\mu\le \int g\de\mu$ \label{PII:mono}
	\end{enumerate}
\end{proposition}
\begin{proof}
	Sia l'additività che la monotonia seguono facilmente dalla \cref{def:IntegraleIntegrabili} e dal \cref{DefinizioneEquivalenteIntegraleIntegrabili}, sfruttando la \cref{prop:IntegralePositive}.
\end{proof}

\begin{corollary}\label{cor:ProprietaNormaL1}
	Date $f,g:X\to\Rbar$ funzioni integrabili con $(X,\A,\mu)$ spazio di misura e dato $\lambda$ reale, valgono:
	\begin{enumerate}
		\item $\LNorm{\lambda f}=|\lambda|\LNorm f$ \label{PNL:moltScalare}
		\item $|f|\le |g|\Longrightarrow \LNorm f\le \LNorm g$ \label{PNL:mono}
		\item $\LNorm {f+g}\le\LNorm f+\LNorm g$ \label{PNL:triang}
	\end{enumerate}
\end{corollary}
\begin{proof}
	La \ref{PNL:moltScalare} e la \ref{PNL:mono} seguono facilmente dalla \cref{prop:IntegraleIntegrabili}, mentre la \ref{PNL:triang} si ottiene dalla \ref{PNL:mono} in quanto $|f+g|\le|f|+|g|$.
\end{proof}



\begin{definition}
	Dato uno spazio di misura $(X,\A,\mu)$ definiamo
	\begin{equation*}
		\L(X,\A,\mu)=\{ f:X\to\Rbar \text{ integrabili} \}
	\end{equation*}
	A volte utilizzeremo la notazione più compatta $\L$, quando sarà ovvio lo spazio di misura su cui stiamo lavorando.
\end{definition}


\begin{proposition}\label{prop:L1VettorialeConSeminorma}
	$\L(X,\A,\mu)$ è uno spazio vettoriale e $\LNorm{\cdot}$ è una seminorma su $\L(X,\A,\mu)$.
\end{proposition}
\begin{proof}
	Dalla \cref{prop:IntegraleIntegrabili} segue facilmente che $\L(X,\A,\mu)$ è uno spazio vettoriale. 
	
	Altrettanto facilmente abbiamo anche che $\LNorm{\cdot}$ è una seminorma su $\L(X,\A,\mu)$, poichè il \cref{cor:ProprietaNormaL1} dimostra che $\LNorm{\cdot}$ rispetta sia l'omogeneità che la disuguaglianza triangolare.
\end{proof}

\begin{remark}
	Dato che $\LNorm{\cdot}$ è una seminorma sullo spazio $\L$, possiamo parlare di convergenza in tale spazio. In particolare diremo che una successione di funzioni integrabili $(f_n)\subseteq \L(X,\A,\mu)$ converge ad $f$ in $\L$ se $\lim_{n\to\infty}\LNorm{f-f_n}=0$.
\end{remark}

\begin{theorem}[Convergenza dominata di Lebesgue]\label{thm:ConvergenzaDominata}
	Sia $(f_n)$ una successione di funzioni integrabili su $(X,\A,\mu)$ spazio di misura convergenti puntalmente a $f$ e sia $g$ integrabile tale che $|f_n(x)|\le g(x)$ per ogni $x\in X$ e per ogni $n\in\N$. Allora
	\begin{equation*}
		\int f \de\mu=\lim_{n\to\infty}\int f_n\de\mu
	\end{equation*}
\end{theorem}

\begin{proof}
	Considero le due successioni di funzioni misurabili positive $(g\pm f_n)$ (rispettivamente con il segno $+$ e il segno $-$). Tali funzioni sono banalmente positive in quanto $|f_n(x)|\le g(x)$, inoltre convergono puntualmente alle funzioni $g\pm f$. Per il \cref{lem:Fatou} vale che
	\begin{equation*}
		\int g\de\mu\pm\int f\de\mu=\int (g\pm f) \de\mu \le \liminf_{n\to\infty} \int (g\pm f_n) \de\mu=\int g\de\mu +\liminf_{n\to\infty}\left( \pm\int f_n \de \mu\right)
	\end{equation*}
	Perciò scegliendo rispettivamente il $+$ e il $-$ otteniamo
	\begin{equation*}
		\begin{cases}
			\int f \de\mu\le \liminf_{n\to\infty}\int f_n \de \mu \\
			\int f\de\mu \ge \limsup_{n\to\infty}\int f_n \de \mu
		\end{cases}
		\Longrightarrow \int f\de\mu = \lim_{n\to\infty}\int f_n \de \mu
	\end{equation*}

\end{proof}

\begin{corollary}\label{cor:ConvergenzaL1Dominata}
	Nelle stesse ipotesi del teorema precedente (\cref{thm:ConvergenzaDominata}), vale in particolare che $f_n\to f$ in $\L(X,\A,\mu)$.
\end{corollary}
\begin{proof}
	La dimostrazione è ovvia, infatti 
	\begin{equation*}
		\int f \de\mu=\lim_{n\to\infty}\int f_n\de\mu \Longrightarrow \LNorm{f-f_n}=\int |f-f_n|\de\mu\to 0
	\end{equation*}

\end{proof}



\begin{theorem}[Disuguaglianza di Chebyshev]\label{thm:DisuguaglianzaChebyshev}
	Data una funzione $f:X\to\Rbar$ integrabile, dove $(X,\A,\mu)$ è uno spazio di misura, e dato $\lambda>0$ reale vale
	\begin{equation*}
		\mu\left(\left\{x:\ |f(x)|>\lambda\right\}\right) \le \frac{\LNorm f}{\lambda}
	\end{equation*}
\end{theorem}
\begin{proof}
	Sia $A_\lambda$ l'insieme degli $x$ tali che $|f(x)|>\lambda$. Ovviamente $A_\lambda$ è un insieme misurabile per la definizione di funzione integrabile.
	
	Grazie alla \cref{prop:IntegraleIntegrabili} e per la definizione di integrale di una funzione semplice abbiamo
	\begin{equation*}
		|f|\ge\lambda \cdot \chi_{A_\lambda} \implies \int_X |f|\de\mu \ge \int_X \lambda\cdot\chi_{A_\lambda}\de\mu=\lambda\mu(A_\lambda)\implies
		\LNorm{f}\ge \lambda\mu(A_\lambda)
	\end{equation*}
	che è equivalente alla tesi.
\end{proof}

\begin{corollary}\label{cor:SupportoIntegrabile}
	Sia $f:X\to\Rbar$ integrabile, dove $(X,\A,\mu)$ è uno spazio di misura, allora l'insieme degli $x\in X$ in cui $f$ non si annulla\footnote{In teoria della misura chiamiamo tale insieme supporto} è \sigfin[o].
\end{corollary}
\begin{proof}
	Sia $A_n=\left\{x:\ |f(x)|>\frac 1n \right\}$, allora per il \cref{thm:DisuguaglianzaChebyshev} vale che $\mu(A_n)\le n \LNorm f$, quindi $A_n$ ha misura finita. Vale inoltre che $A\doteqdot\left\{x:\ f(x)\not=0 \right\}=\bigcup_{n\in\N}A_n$, quindi $A$ si scrive come unione numerabile di misurabili con misura finita e perciò è \sigfin[o], che è quello che volevamo.
\end{proof}


\begin{lemma}\label{lemma:L1NullaAlloraNulla}
	Data $f:X\to\Rbar$ integrabile, dove $(X,\A,\mu)$ è uno spazio di misura, risulta che $\LNorm{f}=0$ se e solo se
	\begin{equation*}
		\mu\left(\left\{x:\ f(x)\not=0\right\}\right)=0
	\end{equation*}
\end{lemma}
\begin{proof}
	Dimostriamo innanzitutto che se $\LNorm{f}=0$ allora $\mu\left(\left\{x:\ f(x)\not=0\right\}\right)=0$.

	Per ogni $n\in\N$, chiamiamo $A_n$ l'insieme degli $x\in X$ tali che $|f(x)|>\frac 1n$.
	
	Dal \cref{thm:DisuguaglianzaChebyshev}, sfruttando $\LNorm{f}=0$ è facile ottenere $\mu(A_n)=0$. 
	Sfruttando quanto appena ottenuto insieme alla \sigsubadd[ità] della misura otteniamo facilmente la tesi:
	\begin{equation*}
		\mu\left(\left\{x:\ f(x)\not=0\right\}\right)=\mu\left(\bigcup_{n\in\N}\left\{x:\ |f(x)|>\frac1n\right\}\right)\le\sum_{n\in\N}\mu(A_n)=0
	\end{equation*}
	
	Dimostriamo ora invece la freccia opposta dell'implicazione.
	
	Per ogni $0\le \simp \le |f|$ con $\simp$ semplice, vale che $\left\{x:\ \simp(x)\not=0\right\}\subseteq\left\{x:\ f(x)\not=0\right\}$ e quindi $\mu\left(\left\{x:\ \simp(x)\not=0\right\}\right)=0$. 
	
	Consideriamo ora la scrittura di $\simp$ come $\simp=\sum_{k=1}^n c_k\chi_{E_k}$, dove $c_k\in\Rbar$ e $E_k\in\A$. Abbiamo che, chiamati $F_k=E_k\cap \left\{x:\ \simp(x)\not=0\right\}$, $F_k\in\A$ perchè intersezione di misurabili e inoltre 
	\begin{equation*}
		\simp=\sum_{k=1}^n c_k\chi_{F_k} \Longrightarrow \int_X\simp\de\mu=\sum_{k=1}^n c_k\mu(F_k)=0
	\end{equation*}
	dove l'ultima uguaglianza è vera perchè $F_k\subseteq \left\{x:\ \simp(x)\not=0\right\}$ e perciò $\mu(F_k)=0$.
	
	Da questo discende facilmente, per la definizione stessa di $\LNorm{f}$, che
	\begin{equation*}
		\LNorm f=\sup\left\{ \int_X \simp\de\mu\ :\ 0\le \simp \le |f| \wedge \simp \text{ semplice}\right\}=0
	\end{equation*}
\end{proof}

\begin{corollary}\label{cor:IntegraleAMenoDiTrascurabili}
	Sia $f:X\to\Rbar$ una funzione misurabile, dove $(X,\A,\mu)$ è uno spazio di misura, e sia $N\in\A$ trascurabile. Allora $f$ è integrabile su $X$ se e solo se è integrabile su $X\setminus N$ e in tal caso vale che
	\begin{equation*}
		\int_X f\de\mu=\int_{X\setminus N}f\de\mu
	\end{equation*}
\end{corollary}
\begin{proof}
	Per l'additività dell'integrale ho che
	\begin{equation*}
		\int_X f\de\mu=\int_{X\setminus N} f \de\mu+\int_N f\de\mu=\int_{X\setminus N}f\de\mu
	\end{equation*}
	dove l'ultima disuguaglianza è vera per il \cref{lemma:L1NullaAlloraNulla}, poichè infatti
	\begin{equation*}
		\left|\int_N f\de\mu\right|\le \int_N |f|\de\mu=0 \Longrightarrow \int_N f\de\mu=0
	\end{equation*}

\end{proof}


Dal \cref{lemma:L1NullaAlloraNulla} ricaviamo perciò che esistono funzioni $f$ non identicamente nulle tali che $\LNorm{f}=0$. Quindi $\LNorm{\cdot}$ non è una norma su $\L(X,\A,\mu)$ ma solo una seminorma (come già dimostrato nella \cref{prop:L1VettorialeConSeminorma}). Vediamo ora come ricondurci invece a considerare uno spazio vettoriale normato.

\begin{lemma}\label{lemma:SottospazioTrascurabili}
	L'insieme definito da
	\begin{equation*}
		\mathcal{N}=\{ f\in\L(X,\A,\mu) : \LNorm{f}=0\}
	\end{equation*}
	è un sottospazio vettoriale di $\L(X,\A,\mu)$.
\end{lemma}
\begin{proof}
	Per il \cref{cor:ProprietaNormaL1} abbiamo che $\mathcal{N}$ è chiuso sia per moltiplicazione per scalare che per somma, quindi è uno spazio vettoriale in quanto contiene facilmente la funzione nulla.
\end{proof}

\begin{definition}
	Definiamo lo spazio vettoriale
	\begin{equation*}
		L^1(X,\A,\mu)\doteqdot \L(X,\A,\mu)/\mathcal{N}
	\end{equation*}
	dove $\mathcal{N}$ è il sottospazio vettoriale di $\L(X,\A,\mu)$ definito nel \cref{lemma:SottospazioTrascurabili}.
	
	Definiamo inoltre su tale spazio $L^1(X,\A,\mu)$ la norma indotta dalla seminorma già definita su $\L(X,\A,\mu)$. Cioè in particolare dato $f+\mathcal{N}\in L^1$ abbiamo che $\LNorm{f+\mathcal{N}}=\LNorm f$.
\end{definition}

\begin{remark}
	$L^1(X,\A,\mu)$, con la norma appena definita, è uno spazio vettoriale normato, cioè $\LNorm{\cdot}$ è effettivamente una norma su di esso.
\end{remark}
\begin{proof}
	Segue facilmente dal \cref{lemma:SottospazioTrascurabili} e dalla definizione stessa di $L^1$.
\end{proof}


\begin{theorem}[Integrazione per serie]\label{thm:IntegrazionePerSerie}
	Sia $(f_n)$ una successione di funzioni integrabili definite su uno spazio di misura $(X,\A,\mu)$ e a valori in $\Rbar$, tale che $\sum_{n=0}^{\infty}\LNorm{f_n}<\infty$. Allora vale che per quasi ogni $x\in X$ la serie $\sum_{n=0}^\infty f_n(x)$ è assolutamente convergente. 
	
	Detta poi $f:X\to\Rbar$ tale che $f(x)=\sum_{n=0}^\infty f_n(x)$, per ogni $x\in X$ per cui $\sum_{n=0}^\infty f_n(x)$ converge assolutamente, e $f(x)$ assume un valore arbitrario altrimenti, vale che $f\in \L(X,\A,\mu)$ e $\int_X f\de\mu=\sum_{n=0}^\infty \int_X f_n\de\mu$.
\end{theorem}

\begin{proof}
	Dato $n\in \N$, sia $g_n(x)=\sum_{k=0}^n|f_n(x)|$ per ogni $x\in X$. 
	
	Le $g_n$ sono funzioni misurabili (perchè somma di misurabili), positive e crescenti, quindi convergono puntualmente ad una funzione $g:X\to\Rbar$. In particolare per il \cref{thm:BeppoLevi} vale inoltre che $\int g\de\mu=\lim_{n\to\infty}\int g_n\de\mu$.
	
	D'altro canto sappiamo che 
	\begin{equation*}
		\int g_n\de\mu=\sum_{k=0}^n\LNorm{ f_k} \Longrightarrow \lim_{n\to\infty}\int g_n\de\mu=\sum_{k=0}^\infty \LNorm{ f_k}<\infty
	\end{equation*}
	quindi $g$ è integrabile.
	
	Chiamiamo ora $N=\{ x\in X:g(x)=\infty\}$, allora per il \cref{thm:DisuguaglianzaChebyshev} ho che $\mu(N)=0$, cioè $g$ assume valori finiti quasi ovunque. Questo implica quindi che $\sum_{n=0}^\infty f_n(x)$ converge assolutamente quasi ovunque, cioè in $X\setminus N$.
	
	Sia ora $s_n=\sum_{k=0}^n f_k$, allora vale che
	\begin{equation*}
		|s_n(x)|=\left|\sum_{k=0}^n f_k(x)\right|\le \sum_{k=0}^n |f_k(x)|=g_n(x)\le g(x)
	\end{equation*}
	quindi la successione $(s_n)$ è dominata dalla funzione $g$.
	
	Inoltre, poichè $\sum_{n=0}^\infty f_n(x)$ converge assolutamente in $X\setminus N$, $s_n=\sum_{k=0}^n f_k$ converge puntalmente alla funzione $f(x)=\sum_{n=0}^\infty f_n(x)$ nello stesso insieme.
	
	Sono quindi rispettate tutte le ipotesi del \cref{thm:ConvergenzaDominata} per la successione di funzioni $(s_n)$ con dominio $X\setminus N$, perciò
	\begin{equation*}
		\int_{X\setminus N} f\de\mu=\lim_{n\to\infty}\int_{X\setminus N}s_n\de\mu=\lim_{n\to\infty}\sum_{k=0}^n\int_{X\setminus N}  f_k\de\mu= \sum_{k=0}^\infty\int_{X\setminus N}f_k\de\mu
	\end{equation*}

	Se ora definiamo $f$ anche su $N$, assegnandogli dei valori arbitrari, abbiamo per il \cref{cor:IntegraleAMenoDiTrascurabili} che $f\in \L(X,\A,\mu)$ e che vale
	\begin{equation*}
		\int_X f\de\mu=\int_{X\setminus N} f\de\mu=\sum_{n=0}^\infty\int_{X\setminus N}f_n\de\mu=\sum_{n=0}^\infty\int_X f_n\de\mu
	\end{equation*}
	che era proprio quello che volevamo.
\end{proof}

\begin{remark}\label{nota:ConvergenzaL1IntegrazionePerSerie}
	Da notare che dalla dimostrazione, ricordando il \cref{cor:ConvergenzaL1Dominata}, segue anche che la convergenza di $s_n$ ad $f$ è in $\L(X,\A,\mu)$ ed è dominata, infatti $|s_n|\le g$.
\end{remark}


\begin{corollary}
	Dato uno spazio di misura $(X,\A,\mu)$, lo spazio $L^1(X,\A,\mu)$ è completo.
\end{corollary}

\begin{proof}
	Segue immediatamente dal \cref{thm:IntegrazionePerSerie}, ricordando che uno spazio normato è completo se e solo se ogni serie totalmente convergente è convergente nello spazio.
\end{proof}

\begin{proposition}\label{prop:L1ImplicaSottosuccessioneQuasiOvunque}
	Sia $(f_n)$ una successione di funzioni integrabili convergenti ad $f$ nello spazio $\L(X,\A,\mu)$. Allora esiste una sottosuccessione $(f_{n_k})_{k\in\N}$ che converge quasi ovunque ad $f$ ed è dominata in $\L(X,\A,\mu)$.
\end{proposition}

\begin{proof}
	Per la \cref{nota:ConvergenzaL1IntegrazionePerSerie} $\LNorm{f-f_n}\to 0$, quindi possiamo definire $(f_{n_k})_{k\in\N}$ tale che $\LNorm{f-f_{n_k}}<2^{-k}$ e la successione $(n_k)_{k\in\N}$ sia crescente.
	
	Sia ora $h_k=f_{n_{k+1}}-f_{n_k}$ per ogni $k\in\N$. La successione $(h_k)$ rispetta le ipotesi del \cref{thm:IntegrazionePerSerie}, in quanto $\sum_{k=0}^\infty \LNorm {h_k}\le \sum_{k=0}^\infty 2^{-k}$, quindi la serie $\sum_{k=0}^\infty h_k$ converge quasi ovunque ed è dominata in $\L(X,\A,\mu)$.
	
	Abbiamo quindi ottenuto che $f_{n_k}=f_{n_0}+\sum_{i=0}^{k-1}(f_{n_{i+1}}-f_{n_i})=f_{n_0}+\sum_{i=0}^{k-1} h_i$ converge quasi ovunque alla funzione $f$ e la successione $(f_{n_k})_{k\in\N}$ è dominata.
\end{proof}

\begin{remark}
	Notiamo che la tesi della \cref{prop:L1ImplicaSottosuccessioneQuasiOvunque} non può essere migliorata. Infatti in genere non è vero che se una successione di funzioni integrabili $(f_n)$ converge ad $f$ in $\L(X,\A,\mu)$, allora converge quasi ovunque ad $f$.
\end{remark}
\begin{proof}
	Sia $(f_n)$ la successione di funzioni integrabili definita da $f_n=\chi_{I_n}$, dove $I_n=\left[\frac{n-2^k}{2^k},\frac{n-2^k+1}{2^k}\right]$ se $2^k\le n<2^{k+1}$. In particolare quindi i primi termini della successione $(I_n)$ sono $I_1=\left[0,1\right],I_2=\left[0,\frac 12\right],I_3=\left[\frac 12,1\right],I_4=\left[0,\frac 14\right],\cdots$. 
	
	È facile verificare che in $\L(X,\A,\mu)$ le $f_n$ convergono a $f=0$, ma è altrettanto facile vedere che non convergono quasi ovunque.

\end{proof}





